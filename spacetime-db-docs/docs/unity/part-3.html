<!DOCTYPE html><html lang="en">
<!-- Mirrored from spacetimedb.com/docs/unity/part-3 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 May 2025 02:58:43 GMT -->
<head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png"/><link rel="manifest" href="../../site.webmanifest"/><link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#202126"/><meta name="msapplication-TileColor" content="#202126"/><meta name="theme-color" content="#202126"/><link href="../../favicon-light.ico" rel="icon" media="(prefers-color-scheme: light)"/><link href="../../favicon.ico" rel="icon" media="(prefers-color-scheme: dark)"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="title" content="SpacetimeDB"/><meta name="description" content="Multiplayer at the speed of light."/><meta property="og:type" content="website"/><meta property="og:url" content="../../index.html"/><meta property="og:title" content="SpacetimeDB"/><meta property="og:description" content="Multiplayer at the speed of light."/><meta property="og:image" content="../../meta-tags.png"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:url" content="../../index.html"/><meta property="twitter:title" content="SpacetimeDB"/><meta property="twitter:description" content="Multiplayer at the speed of light."/><meta property="twitter:image" content="../../meta-tags.png"/><link rel="preload" as="font" href="../../assets/ibm-plex-mono-latin-600-normal-rgB1DpUr.woff2" type="font/woff2" crossorigin="anonymous"/><link rel="preload" as="font" href="../../assets/inter-latin-wght-normal-C2S99t-D.woff2" type="font/woff2" crossorigin="anonymous"/><link rel="preload" as="font" href="../../assets/source-code-pro-latin-wght-normal-C54hYqvT.woff2" type="font/woff2" crossorigin="anonymous"/><title>Docs | SpacetimeDB</title><link rel="stylesheet" href="../../assets/root-DgiNzMOf.css"/><link rel="stylesheet" href="../../assets/Layout-CTL7f1Hd.css"/><link rel="stylesheet" href="../../assets/Container-_6nMI5g_.css"/><link rel="stylesheet" href="../../assets/Button-C8_kLgtz.css"/><link rel="stylesheet" href="../../assets/route-DfbkRanz.css"/><link rel="stylesheet" href="../../assets/ScrollAnimation-HNI5Nioi.css"/><link rel="stylesheet" href="../../assets/route-DPGvI9WQ.css"/><link rel="stylesheet" href="../../assets/MDComponent-CdQtYgZs.css"/></head><body><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div><div id="root"><div><div class="BPQwEa_scrollScapegoat"></div><header class="BPQwEa_header" style="--background:transparent;--color-border:transparent"><div class="sDndEq_announcementBanner text-tagline-1"><div class="wtWGoa_root"><div class="sDndEq_content"><div class="sDndEq_left"><svg class="sDndEq_announcementIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.2413 2H7.7587C6.95374 1.99999 6.28937 1.99998 5.74818 2.04419C5.18608 2.09012 4.66937 2.18868 4.18404 2.43598C3.43139 2.81947 2.81947 3.43139 2.43598 4.18404C2.18868 4.66937 2.09012 5.18608 2.04419 5.74818C1.99998 6.28937 1.99999 6.95372 2 7.75869V13.5343C1.99999 14.2041 1.99999 14.7569 2.03087 15.2095C2.06289 15.6788 2.13142 16.1129 2.30448 16.5307C2.71046 17.5108 3.48916 18.2895 4.46927 18.6955C4.88708 18.8686 5.32118 18.9371 5.79046 18.9691C6.24307 19 6.79594 19 7.46573 19H7.5C8.03656 19 8.14307 19.0063 8.22975 19.0268C8.38085 19.0624 8.52156 19.1328 8.64075 19.2322C8.70913 19.2893 8.77806 19.3708 9.1 19.8L10.5769 21.7692C10.6703 21.8938 10.7758 22.0346 10.8774 22.1476C10.9894 22.2721 11.1756 22.4555 11.4563 22.5647C11.806 22.7007 12.194 22.7007 12.5437 22.5647C12.8244 22.4555 13.0106 22.2721 13.1226 22.1476C13.2242 22.0346 13.3297 21.8938 13.4231 21.7692L14.9 19.8C15.2219 19.3708 15.2909 19.2893 15.3593 19.2322C15.4784 19.1328 15.6192 19.0624 15.7702 19.0268C15.8569 19.0063 15.9634 19 16.5 19H16.5343C17.2041 19 17.7569 19 18.2095 18.9691C18.6788 18.9371 19.1129 18.8686 19.5307 18.6955C20.5108 18.2895 21.2895 17.5108 21.6955 16.5307C21.8686 16.1129 21.9371 15.6788 21.9691 15.2095C22 14.7569 22 14.2041 22 13.5343V7.75868C22 6.95372 22 6.28937 21.9558 5.74818C21.9099 5.18608 21.8113 4.66937 21.564 4.18404C21.1805 3.43139 20.5686 2.81947 19.816 2.43598C19.3306 2.18868 18.8139 2.09012 18.2518 2.04419C17.7106 1.99998 17.0463 1.99999 16.2413 2ZM13 7C13 6.44772 12.5523 6 12 6C11.4477 6 11 6.44772 11 7V10.5C11 11.0523 11.4477 11.5 12 11.5C12.5523 11.5 13 11.0523 13 10.5V7ZM12 13C11.4477 13 11 13.4477 11 14C11 14.5523 11.4477 15 12 15H12.01C12.5623 15 13.01 14.5523 13.01 14C13.01 13.4477 12.5623 13 12.01 13H12Z" fill="#4CF490"></path></svg><p class="md-body-docs">Maincloud is now <b>LIVE</b>! Get Maincloud Energy 90% off until we run out!</p></div><form method="post" action="https://spacetimedb.com/api/announcement-banner"><button aria-label="Close announcement banner"><svg class="dismiss-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM15.7071 8.29289C16.0976 8.68342 16.0976 9.31658 15.7071 9.70711L13.4142 12L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L12 13.4142L9.70711 15.7071C9.31658 16.0976 8.68342 16.0976 8.29289 15.7071C7.90237 15.3166 7.90237 14.6834 8.29289 14.2929L10.5858 12L8.29289 9.70711C7.90237 9.31658 7.90237 8.68342 8.29289 8.29289C8.68342 7.90237 9.31658 7.90237 9.70711 8.29289L12 10.5858L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289Z" fill="#A4CBB4"></path></svg></button></form></div></div></div><div class="wtWGoa_root"><div class="BPQwEa_inner" style="--padding:24px 0"><a class="BPQwEa_brand BPQwEa_hideMobile" data-discover="true" href="../../home.html"><img src="../../images/brand.png" alt="SpacetimeDB" width="390" height="96"/></a><a class="BPQwEa_logo BPQwEa_hideDesktop" data-discover="true" href="../../home.html"><img src="../../images/logo.png" alt="SpacetimeDB" width="36" height="36"/></a><div class="BPQwEa_versionTag text-value-3"><p>v1.1</p></div><nav class="BPQwEa_nav text-menu BPQwEa_hideMobile"><a data-discover="true" class="" href="../../install.html">Install</a><a data-discover="true" class="" href="../../pricing.html">Pricing</a><a data-discover="true" class="" href="../../maincloud.html">Maincloud</a><a data-discover="true" aria-current="page" class="BPQwEa_active" href="../../docs.html">Docs</a><a data-discover="true" class="" href="../../blog.html">Blog</a><a data-discover="true" class="" href="../../community.html">Community</a></nav><button cy-data="" class="GM6BWG_button GM6BWG_primary BPQwEa_hideMobile BPQwEa_starUsBtn text-menu" aria-label="16K stars" type="button"><svg class="GM6BWG_leftIcon" style="min-width:20px" fill="none" width="20" height="20" viewBox="0 0 20 20"><path d="M8.12384 7.08774C7.87849 6.97075 7.59345 6.97075 7.3481 7.08774C7.136 7.18886 7.01906 7.36444 6.96009 7.46077C6.89912 7.56035 6.83654 7.6872 6.77554 7.81084L5.48033 10.4348L2.58314 10.8583C2.44676 10.8782 2.30682 10.8986 2.19332 10.9259C2.08351 10.9523 1.88049 11.0094 1.71892 11.1799C1.53201 11.3772 1.44411 11.6483 1.47969 11.9178C1.51044 12.1507 1.64133 12.316 1.71475 12.4018C1.79064 12.4905 1.89197 12.5892 1.99073 12.6854L4.08627 14.7264L3.59181 17.6093C3.56847 17.7452 3.54452 17.8847 3.53531 18.0011C3.52639 18.1137 3.51777 18.3245 3.62995 18.5311C3.7597 18.7699 3.99034 18.9375 4.25762 18.987C4.4887 19.0299 4.68654 18.9565 4.79087 18.9132C4.89875 18.8684 5.02397 18.8026 5.14603 18.7383L7.73597 17.3763L10.3259 18.7383C10.448 18.8026 10.5732 18.8685 10.6811 18.9132C10.7854 18.9565 10.9832 19.0299 11.2143 18.987C11.4816 18.9375 11.7122 18.7699 11.842 18.5311C11.9542 18.3245 11.9455 18.1137 11.9366 18.0011C11.9274 17.8847 11.9035 17.7453 11.8801 17.6093L11.3857 14.7264L13.4812 12.6853C13.58 12.5892 13.6813 12.4905 13.7572 12.4018C13.8306 12.316 13.9615 12.1507 13.9922 11.9178C14.0278 11.6483 13.9399 11.3772 13.753 11.1799C13.5914 11.0094 13.3884 10.9523 13.2786 10.9259C13.1651 10.8986 13.0252 10.8782 12.8888 10.8583L9.99161 10.4348L8.69642 7.81089C8.63542 7.68724 8.57282 7.56036 8.51185 7.46077C8.45288 7.36444 8.33594 7.18886 8.12384 7.08774Z" fill="currentColor" stroke="rgba(0, 0, 0, 0)" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="10" cy="4" r="2" fill="currentColor"></circle><circle cx="3.5" cy="5.5" r="1.5" fill="currentColor"></circle><circle cx="6" cy="1" r="1" fill="currentColor"></circle></svg>16K stars</button><a class="BPQwEa_hideMobile BPQwEa_loginBtn" data-discover="true" href="https://github.com/login/oauth/authorize?client_id=Iv23liKJqWZxDyNA4Y9G&amp;scope=read%3Auser+user%3Aemail&amp;redirect_uri=https%3A%2F%2Fspacetimedb.com%2Fapi%2Fauth%2Fgithub%2Fcallback&amp;state=01JTSFM2HKQ1NWZFHE4NZNGE5P&amp;allow_signup=true&amp;prompt=select_account">Login</a><button class="BPQwEa_burger" aria-label="Toggle navigation menu"><span></span></button></div></div></header><div class="BPQwEa_modal"><div class="BPQwEa_modalContainer"><nav class="BPQwEa_nav text-menu"><a data-discover="true" class="" href="../../install.html">Install</a><a data-discover="true" class="" href="../../pricing.html">Pricing</a><a data-discover="true" class="" href="../../maincloud.html">Maincloud</a><a data-discover="true" aria-current="page" class="BPQwEa_active" href="../../docs.html">Docs</a><a data-discover="true" class="" href="../../blog.html">Blog</a><a data-discover="true" class="" href="../../community.html">Community</a></nav><div class="BPQwEa_group"><div class="BPQwEa_communitySection"><h4 class="BPQwEa_title text-xs">Community</h4><div class="BPQwEa_socials"><a href="https://github.com/ClockworkLabs/SpacetimeDB" target="_blank" rel="noreferrer"><svg style="min-width:24px" fill="none" width="24" height="24" viewBox="0 0 20 20"><path d="M10.041 0C4.519 0 0 4.519 0 10.041a10.03 10.03 0 0 0 6.862 9.539c.502.084.669-.251.669-.502v-1.674c-2.761.586-3.347-1.339-3.347-1.339-.418-1.171-1.088-1.506-1.088-1.506-1.004-.586 0-.586 0-.586 1.004.084 1.506 1.004 1.506 1.004.92 1.506 2.343 1.088 2.929.837.084-.669.335-1.088.669-1.339-2.259-.251-4.602-1.088-4.602-4.937a4.04 4.04 0 0 1 1.004-2.678c0-.335-.418-1.339.167-2.678 0 0 .837-.251 2.761 1.004.837-.251 1.674-.335 2.51-.335s1.674.084 2.51.335c1.925-1.339 2.761-1.004 2.761-1.004.586 1.423.167 2.427.084 2.678.669.669 1.004 1.59 1.004 2.678 0 3.849-2.343 4.686-4.602 4.937.335.335.669.92.669 1.841v2.761c0 .251.167.586.669.502a10.03 10.03 0 0 0 6.862-9.539C20.083 4.519 15.564 0 10.041 0z"></path></svg></a><a href="https://discord.gg/SpacetimeDB" target="_blank" rel="noreferrer"><svg style="min-width:24px" fill="none" width="24" height="24" viewBox="0 0 20 20"><path d="M16.7 0c.27.001.537.054.786.158s.475.256.666.447.341.418.444.668.155.517.155.787h0V20l-2.15-1.9-1.21-1.117-1.28-1.19.53 1.85H3.3c-.27-.001-.537-.054-.786-.158s-.475-.256-.666-.447-.341-.418-.444-.668-.155-.517-.155-.787h0V2.06c-.001-.27.052-.537.155-.787s.253-.476.444-.668.417-.343.666-.447S3.03.001 3.3 0h0 13.4zm-5.05 4.66l-.14.16c.911.242 1.759.675 2.49 1.27a8.15 8.15 0 0 0-3.013-.963 8.46 8.46 0 0 0-2.02.02c-.056.002-.112.009-.167.02a7.51 7.51 0 0 0-2.27.633l-.59.29a6.75 6.75 0 0 1 2.637-1.31h0l-.1-.12c-1.023.051-2.005.417-2.81 1.05a13.39 13.39 0 0 0-1.44 5.833c.345.484.803.876 1.335 1.141s1.121.395 1.715.379l.667-.833a3.11 3.11 0 0 1-1.75-1.18c.357.239.739.437 1.14.59a8.39 8.39 0 0 0 1.467.43c.855.164 1.734.168 2.59.01a6.58 6.58 0 0 0 1.45-.43 5.72 5.72 0 0 0 1.15-.59c-.444.598-1.085 1.019-1.81 1.19l.07.088.142.177.448.545c.595.015 1.185-.115 1.718-.379s.994-.655 1.342-1.138a13.39 13.39 0 0 0-1.44-5.833c-.805-.633-1.787-.999-2.81-1.05h0zm.056 3.727l.134.003c.14.006.277.039.404.098s.241.142.336.245.168.224.216.355.07.271.064.411c0 .224-.068.444-.194.629s-.306.328-.515.41-.438.098-.656.047-.417-.166-.569-.332-.25-.372-.282-.594.004-.449.102-.65.256-.368.451-.479.419-.159.643-.14l-.134-.003zM8.19 8.39c.14.005.278.038.405.097a1.06 1.06 0 0 1 .553.601 1.06 1.06 0 0 1 .062.412l-.001.105c-.006.104-.027.208-.063.306-.048.131-.122.252-.216.355s-.209.187-.336.245-.264.092-.404.098c-.278-.024-.536-.152-.725-.357s-.293-.474-.293-.753.105-.548.293-.753.447-.333.725-.357z"></path></svg></a><a href="https://twitter.com/spacetime_db" target="_blank" rel="noreferrer"><svg style="min-width:24px" fill="none" width="24" height="24" viewBox="0 0 20 20"><path d="M20 3.833c-.75.333-1.5.583-2.333.667.833-.5 1.5-1.333 1.833-2.25-.833.5-1.667.833-2.583 1-.75-.833-1.833-1.333-3-1.333A4.09 4.09 0 0 0 9.833 6c0 .333 0 .667.083.917-3.5-.167-6.5-1.833-8.5-4.333a3.76 3.76 0 0 0-.583 2.083c0 1.417.75 2.667 1.833 3.417-.667 0-1.333-.167-1.833-.5v.083c0 2 1.417 3.667 3.25 4-.333.083-.667.167-1.083.167-.25 0-.5 0-.75-.083a3.95 3.95 0 0 0 3.833 2.833c-1.417 1.083-3.167 1.75-5.083 1.75-.333 0-.667 0-1-.083 1.833 1.167 4 1.833 6.25 1.833 7.583 0 11.667-6.25 11.667-11.667v-.5c.833-.583 1.5-1.333 2.083-2.083z"></path></svg></a><a href="https://www.twitch.tv/SpacetimeDB" target="_blank" rel="noreferrer"><svg style="min-width:24px" fill="none" width="24" height="24" viewBox="0 0 20 20"><path d="M3.55263 0L0 3.57143V16.4286H4.26316V20L7.81579 16.4286H10.6579L17.0526 10V0H3.55263ZM15.6316 9.28571L12.7895 12.1429H9.94737L7.46053 14.6429V12.1429H4.26316V1.42857H15.6316V9.28571Z M13.5 3.92857H12.0789V8.21429H13.5V3.92857Z M9.59211 3.92857H8.17105V8.21429H9.59211V3.92857Z"></path></svg></a><a href="https://www.youtube.com/@SpacetimeDB" target="_blank" rel="noreferrer"><svg style="min-width:24px" fill="none" width="24" height="24" viewBox="0 0 20 20"><path d="M19.833 6S19.667 4.583 19 4c-.75-.833-1.583-.833-2-.833L10 3l-7 .167C2.583 3.25 1.75 3.25 1 4c-.583.583-.833 2-.833 2S0 7.583 0 9.25v1.5C0 12.333.167 14 .167 14s.167 1.417.833 2c.75.833 1.75.75 2.167.833C4.75 17 10 17 10 17l7-.25c.417-.083 1.25-.083 2-.833.583-.583.833-2 .833-2s.167-1.583.167-3.25v-1.5C20 7.583 19.833 6 19.833 6zM7.917 12.583V7l5.417 2.833-5.417 2.75z"></path></svg></a></div></div><div class="BPQwEa_buttons"><button cy-data="" class="GM6BWG_button GM6BWG_primary BPQwEa_starUsBtn BPQwEa_starUsBtnMobile text-menu" aria-label="16K stars" type="button"><svg class="GM6BWG_leftIcon" style="min-width:20px" fill="none" width="20" height="20" viewBox="0 0 20 20"><path d="M8.12384 7.08774C7.87849 6.97075 7.59345 6.97075 7.3481 7.08774C7.136 7.18886 7.01906 7.36444 6.96009 7.46077C6.89912 7.56035 6.83654 7.6872 6.77554 7.81084L5.48033 10.4348L2.58314 10.8583C2.44676 10.8782 2.30682 10.8986 2.19332 10.9259C2.08351 10.9523 1.88049 11.0094 1.71892 11.1799C1.53201 11.3772 1.44411 11.6483 1.47969 11.9178C1.51044 12.1507 1.64133 12.316 1.71475 12.4018C1.79064 12.4905 1.89197 12.5892 1.99073 12.6854L4.08627 14.7264L3.59181 17.6093C3.56847 17.7452 3.54452 17.8847 3.53531 18.0011C3.52639 18.1137 3.51777 18.3245 3.62995 18.5311C3.7597 18.7699 3.99034 18.9375 4.25762 18.987C4.4887 19.0299 4.68654 18.9565 4.79087 18.9132C4.89875 18.8684 5.02397 18.8026 5.14603 18.7383L7.73597 17.3763L10.3259 18.7383C10.448 18.8026 10.5732 18.8685 10.6811 18.9132C10.7854 18.9565 10.9832 19.0299 11.2143 18.987C11.4816 18.9375 11.7122 18.7699 11.842 18.5311C11.9542 18.3245 11.9455 18.1137 11.9366 18.0011C11.9274 17.8847 11.9035 17.7453 11.8801 17.6093L11.3857 14.7264L13.4812 12.6853C13.58 12.5892 13.6813 12.4905 13.7572 12.4018C13.8306 12.316 13.9615 12.1507 13.9922 11.9178C14.0278 11.6483 13.9399 11.3772 13.753 11.1799C13.5914 11.0094 13.3884 10.9523 13.2786 10.9259C13.1651 10.8986 13.0252 10.8782 12.8888 10.8583L9.99161 10.4348L8.69642 7.81089C8.63542 7.68724 8.57282 7.56036 8.51185 7.46077C8.45288 7.36444 8.33594 7.18886 8.12384 7.08774Z" fill="currentColor" stroke="rgba(0, 0, 0, 0)" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="10" cy="4" r="2" fill="currentColor"></circle><circle cx="3.5" cy="5.5" r="1.5" fill="currentColor"></circle><circle cx="6" cy="1" r="1" fill="currentColor"></circle></svg>16K stars</button></div><div class="BPQwEa_buttons"><a cy-data="" aria-label="try the demo" class="GM6BWG_button GM6BWG_secondary text-menu" type="button" data-discover="true" href="part-3.html#demo" target=""><svg class="GM6BWG_leftIcon" style="min-width:20px" fill="none" width="20" height="20" viewBox="0 0 20 20"><path d="M10.108 1.55c4.611 0 8.35 3.741 8.35 8.35h0v.208a8.36 8.36 0 0 1-8.35 8.35h0H9.9c-4.611 0-8.35-3.741-8.35-8.35h0V9.9c0-4.611 3.741-8.35 8.35-8.35h0zm0 1.5H9.9c-3.78 0-6.85 3.067-6.85 6.85h0v.208c0 3.78 3.067 6.85 6.85 6.85h0 .208a6.86 6.86 0 0 0 6.85-6.85h0V9.9c0-3.78-3.067-6.85-6.85-6.85h0zm.864 4.29l.084.073 2.048 2.056h0a.75.75 0 0 1 .108.136.74.74 0 0 1 .03.052c.006.012.012.024.017.036.011.024.02.048.028.072a.76.76 0 0 1 .009.031.75.75 0 0 1 .018.08.76.76 0 0 1 .005.034.75.75 0 0 1 .005.069c0 .016 0 .033 0 .049-.001.022-.003.043-.005.065-.002.015-.004.03-.007.045-.005.026-.011.051-.018.077a.73.73 0 0 1-.009.028.75.75 0 0 1-.033.082c-.003.007-.007.014-.01.021-.02.04-.045.078-.073.115l-.062.07-2.05 2.058a.75.75 0 0 1-1.135-.974l.072-.084.775-.779H7.425a.75.75 0 0 1-.102-1.493l.102-.007h3.345l-.776-.779a.75.75 0 0 1 .979-1.131z"></path></svg>try the demo</a><a cy-data="" aria-label="install" class="GM6BWG_button GM6BWG_primary text-menu" type="button" data-discover="true" href="../../install.html" target=""><svg class="GM6BWG_leftIcon" style="min-width:20px" fill="none" width="20" height="20" viewBox="0 0 20 20"><path d="M15.333 6.25c1.703 0 3.069 1.339 3.162 3.064l.005.186v5.75c0 1.752-1.307 3.151-2.985 3.245l-.181.005H4.583c-1.703 0-3.07-1.339-3.162-3.064l-.005-.186V9.5c0-1.814 1.403-3.25 3.167-3.25a.75.75 0 1 1 0 1.5c-.879 0-1.588.679-1.661 1.595l-.006.155v5.75c0 .941.663 1.67 1.522 1.744l.145.006h10.75c.879 0 1.588-.679 1.661-1.595L17 15.25V9.5c0-.993-.739-1.75-1.667-1.75a.75.75 0 1 1 0-1.5zM9.377 9.854L7.044 7.438a.75.75 0 0 1 .996-1.116l.083.074 1.043 1.081v-5.06a.75.75 0 0 1 1.493-.102l.007.102v5.105l1.136-1.135a.75.75 0 0 1 1.133.977l-.073.084-2.417 2.417h0l-.009.009h0l-.025.023-.045.037-.005.004-.013.007-.007.007-.063.039-.022.012-.037.018-.024.01-.022.008-.023.008-.031.009-.047.011-.027.005-.052.007-.047.003h-.029l-.038-.001-.04-.003-.024-.003h0l-.014-.002-.028-.005-.04-.009-.038-.011-.026-.009-.031-.011-.049-.022-.038-.02a.72.72 0 0 1-.061-.038l-.024-.017c-.028-.021-.054-.044-.079-.069l-.009-.009z"></path></svg>install</a></div><div class="BPQwEa_background"><img src="../../images/space-time-astrolabe.jpg" alt="Astrolabe" loading="lazy" width="1616" height="2444"/></div></div></div></div><div class="wtWGoa_root" style="padding-top:144px"><div class="_1ZGmjW_root _1ZGmjW_visible FTy4tq_layoutContainer"><nav class="_7MaBSq_sidebar"><a class="_7MaBSq_pageTitle" data-discover="true" href="../ai-chat.html">Ask AI Chat</a><p class="_7MaBSq_sectionTitle">Intro</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../../docs.html">Overview</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../getting-started.html">Getting Started</a><p class="_7MaBSq_sectionTitle">Deploying</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../deploying/maincloud.html">Maincloud</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../deploying/spacetimedb-standalone.html">Self-Hosting SpacetimeDB</a><p class="_7MaBSq_sectionTitle">Unity Tutorial - Basic Multiplayer</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../unity.html">Overview</a><a class="_7MaBSq_pageTitle" data-discover="true" href="part-1.html">1 - Setup</a><a class="_7MaBSq_pageTitle" data-discover="true" href="part-2.html">2 - Connecting to SpacetimeDB</a><a class="_7MaBSq_pageTitle _7MaBSq_active" data-discover="true" href="part-3.html">3 - Gameplay</a><a class="_7MaBSq_pageTitle" data-discover="true" href="part-4.html">4 - Moving and Colliding</a><p class="_7MaBSq_sectionTitle">CLI Reference</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../cli-reference.html">CLI Reference</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../cli-reference/standalone-config.html">SpacetimeDB Standalone Configuration</a><p class="_7MaBSq_sectionTitle">Server Module Languages</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../modules.html">Overview</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../modules/rust/quickstart.html">Rust Quickstart</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../modules/rust.html">Rust Reference</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../modules/c-sharp/quickstart.html">C# Quickstart</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../modules/c-sharp.html">C# Reference</a><p class="_7MaBSq_sectionTitle">Client SDK Languages</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks.html">Overview</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/c-sharp/quickstart.html">C# Quickstart</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/c-sharp.html">C# Reference</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/rust/quickstart.html">Rust Quickstart</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/rust.html">Rust Reference</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/typescript/quickstart.html">TypeScript Quickstart</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sdks/typescript.html">TypeScript Reference</a><p class="_7MaBSq_sectionTitle">SQL</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../sql.html">SQL Reference</a><p class="_7MaBSq_sectionTitle">Subscriptions</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../subscriptions.html">Subscription Reference</a><p class="_7MaBSq_sectionTitle">Row Level Security</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../rls.html">Row Level Security</a><p class="_7MaBSq_sectionTitle">How To</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../how-to/incremental-migrations.html">Incremental Migrations</a><p class="_7MaBSq_sectionTitle">HTTP API</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../http/authorization.html">Authorization</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../http/identity.html">`/identity`</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../http/database.html">`/database`</a><p class="_7MaBSq_sectionTitle">Internals</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../webassembly-abi.html">Module ABI Reference</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../sats-json.html">SATS-JSON Data Format</a><a class="_7MaBSq_pageTitle" data-discover="true" href="../bsatn.html">BSATN Data Format</a><p class="_7MaBSq_sectionTitle">Appendix</p><a class="_7MaBSq_pageTitle" data-discover="true" href="../appendix.html">Appendix</a></nav><div class="WT-eTq_content"><div><article class="sc30Jq_mdc md-body-docs line-break"><h2 id="unity-tutorial---part-3---gameplay">Unity Tutorial - Part 3 - Gameplay<a href="#unity-tutorial---part-3---gameplay" class="permalink"><span class="visually-hidden"></span></a></h2><p>Need help with the tutorial? <a href="https://discord.gg/spacetimedb">Join our Discord server</a>!</p>
<p>This progressive tutorial is continued from <a href="part-2.html">part 2</a>.</p>
<h4 id="spawning-food">Spawning Food<a href="#spawning-food" class="permalink"><span class="visually-hidden"></span></a></h4>
        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>Let&#39;s start by spawning food into the map. The first thing we need to do is create a new, special reducer called the <code>init</code> reducer. SpacetimeDB calls the <code>init</code> reducer automatically when first publish your module, and also after any time you run with <code>publish --delete-data</code>. It gives you an opportunity to initialize the state of your database before any clients connect.</p>
<p>Add this new reducer above our <code>connect</code> reducer.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#6272A4">// Note the `init` parameter passed to the reducer macro.</span></span>
<span class="line"><span style="color:#6272A4">// That indicates to SpacetimeDB that it should be called</span></span>
<span class="line"><span style="color:#6272A4">// once upon database creation.</span></span>
<span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer(init)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> init</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#F8F8F2">    log</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">info!</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Initializing..."</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">config</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Config</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        world_size</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 1000</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>This reducer also demonstrates how to insert new rows into a table. Here we are adding a single <code>Config</code> row to the <code>config</code> table with the <code>try_insert</code> function. <code>try_insert</code> returns an error if inserting the row into the table would violate any constraints, like unique constraints, on the table. You can also use <code>insert</code> which panics on constraint violations if you know for sure that you will not violate any constraints.</p>
<p>Now that we&#39;ve ensured that our database always has a valid <code>world_size</code> let&#39;s spawn some food into the map. Add the following code to the end of the file.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#BD93F9"> FOOD_MASS_MIN</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#FF79C6"> =</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#BD93F9"> FOOD_MASS_MAX</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#FF79C6"> =</span><span style="color:#BD93F9"> 4</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#BD93F9"> TARGET_FOOD_COUNT</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> usize</span><span style="color:#FF79C6"> =</span><span style="color:#BD93F9"> 600</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">fn</span><span style="color:#50FA7B"> mass_to_radius</span><span style="color:#F8F8F2">(mass</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    (mass </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">sqrt</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> spawn_food</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">count</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">==</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#6272A4">        // Are there no logged in players? Skip food spawn.</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#8BE9FD;font-style:italic"> Ok</span><span style="color:#F8F8F2">(());</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> world_size </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">db</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">config</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">id</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">ok_or</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Config not found"</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">?</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">world_size;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#FF79C6"> mut</span><span style="color:#F8F8F2"> rng </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">rng</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#FF79C6"> mut</span><span style="color:#F8F8F2"> food_count </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">food</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">count</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">    while</span><span style="color:#F8F8F2"> food_count </span><span style="color:#FF79C6">&#x3C;</span><span style="color:#BD93F9"> TARGET_FOOD_COUNT</span><span style="color:#FF79C6"> as</span><span style="color:#8BE9FD;font-style:italic"> u64</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">        let</span><span style="color:#F8F8F2"> food_mass </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">gen_range</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">FOOD_MASS_MIN</span><span style="color:#FF79C6">..</span><span style="color:#BD93F9">FOOD_MASS_MAX</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">        let</span><span style="color:#F8F8F2"> food_radius </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> mass_to_radius</span><span style="color:#F8F8F2">(food_mass);</span></span>
<span class="line"><span style="color:#FF79C6">        let</span><span style="color:#F8F8F2"> x </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">gen_range</span><span style="color:#F8F8F2">(food_radius</span><span style="color:#FF79C6">..</span><span style="color:#F8F8F2">world_size </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#FF79C6"> -</span><span style="color:#F8F8F2"> food_radius);</span></span>
<span class="line"><span style="color:#FF79C6">        let</span><span style="color:#F8F8F2"> y </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">gen_range</span><span style="color:#F8F8F2">(food_radius</span><span style="color:#FF79C6">..</span><span style="color:#F8F8F2">world_size </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#FF79C6"> -</span><span style="color:#F8F8F2"> food_radius);</span></span>
<span class="line"><span style="color:#FF79C6">        let</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">entity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">            entity_id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">            position</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2"> { x, y },</span></span>
<span class="line"><span style="color:#F8F8F2">            mass</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> food_mass,</span></span>
<span class="line"><span style="color:#F8F8F2">        })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">food</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Food</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">            entity_id</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> entity</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">entity_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        food_count </span><span style="color:#FF79C6">+=</span><span style="color:#BD93F9"> 1</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        log</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">info!</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Spawned food! {}"</span><span style="color:#F8F8F2">, entity</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">entity_id);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                <p>Let&#39;s start by spawning food into the map. The first thing we need to do is create a new, special reducer called the <code>Init</code> reducer. SpacetimeDB calls the <code>Init</code> reducer automatically when you first publish your module, and also after any time you run with <code>publish --delete-data</code>. It gives you an opportunity to initialize the state of your database before any clients connect.</p>
<p>Add this new reducer above our <code>Connect</code> reducer.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#6272A4">// Note the `init` parameter passed to the reducer macro.</span></span>
<span class="line"><span style="color:#6272A4">// That indicates to SpacetimeDB that it should be called</span></span>
<span class="line"><span style="color:#6272A4">// once upon database creation.</span></span>
<span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">(ReducerKind.Init)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Init</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    Log.</span><span style="color:#50FA7B">Info</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">$"</span><span style="color:#F1FA8C">Initializing...</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.config.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Config</span><span style="color:#F8F8F2"> { world_size </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 1000</span><span style="color:#F8F8F2"> });</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>This reducer also demonstrates how to insert new rows into a table. Here we are adding a single <code>Config</code> row to the <code>config</code> table with the <code>Insert</code> function.</p>
<p>Now that we&#39;ve ensured that our database always has a valid <code>world_size</code> let&#39;s spawn some food into the map. Add the following code to the end of the <code>Module</code> class.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> FOOD_MASS_MIN </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> FOOD_MASS_MAX </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 4</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> TARGET_FOOD_COUNT </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 600</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> float</span><span style="color:#50FA7B"> MassToRadius</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> mass</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> MathF.</span><span style="color:#50FA7B">Sqrt</span><span style="color:#F8F8F2">(mass);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SpawnFood</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> (ctx.Db.player.Count </span><span style="color:#FF79C6">==</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">) </span><span style="color:#6272A4">//Are there no players yet?</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> world_size </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (ctx.Db.config.id.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Config not found</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)).world_size;</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> rng </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Rng;</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> food_count </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.food.Count;</span></span>
<span class="line"><span style="color:#FF79C6">    while</span><span style="color:#F8F8F2"> (food_count </span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F8F8F2"> TARGET_FOOD_COUNT)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> food_mass </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">Range</span><span style="color:#F8F8F2">(FOOD_MASS_MIN, FOOD_MASS_MAX);</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> food_radius </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> MassToRadius</span><span style="color:#F8F8F2">(food_mass);</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> x </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">Range</span><span style="color:#F8F8F2">(food_radius, world_size </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> food_radius);</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> y </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">Range</span><span style="color:#F8F8F2">(food_radius, world_size </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> food_radius);</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.entity.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Entity</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            position </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">(x, y),</span></span>
<span class="line"><span style="color:#F8F8F2">            mass </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> food_mass,</span></span>
<span class="line"><span style="color:#F8F8F2">        });</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.food.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Food</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            entity_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> entity.entity_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        });</span></span>
<span class="line"><span style="color:#F8F8F2">        food_count</span><span style="color:#FF79C6">++</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        Log.</span><span style="color:#50FA7B">Info</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">$"</span><span style="color:#F1FA8C">Spawned food! </span><span style="color:#FF79C6">{</span><span style="color:#F8F8F2">entity</span><span style="color:#F1FA8C">.</span><span style="color:#F8F8F2">entity_id</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> float</span><span style="color:#50FA7B"> Range</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">this</span><span style="color:#8BE9FD;font-style:italic"> Random</span><span style="color:#FFB86C;font-style:italic"> rng</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">float</span><span style="color:#FFB86C;font-style:italic"> min</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">float</span><span style="color:#FFB86C;font-style:italic"> max</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">NextSingle</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> (max </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> min) </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> min;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> uint</span><span style="color:#50FA7B"> Range</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">this</span><span style="color:#8BE9FD;font-style:italic"> Random</span><span style="color:#FFB86C;font-style:italic"> rng</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> min</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> max</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">)rng.</span><span style="color:#50FA7B">NextInt64</span><span style="color:#F8F8F2">(min, max);</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>In this reducer, we are using the <code>world_size</code> we configured along with the <code>ReducerContext</code>&#39;s random number generator <code>.rng()</code> function to place 600 food uniformly randomly throughout the map. We&#39;ve also chosen the <code>mass</code> of the food to be a random number between 2 and 4 inclusive.</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="C#">
                <p>We also added two helper functions so we can get a random range as either a <code>uint</code> or a <code>float</code>.</p>

            </div>
        </div>
        <p>Although, we&#39;ve written the reducer to spawn food, no food will actually be spawned until we call the function while players are logged in. This raises the question, who should call this function and when?</p>
<p>We would like for this function to be called periodically to &quot;top up&quot; the amount of food on the map so that it never falls very far below our target amount of food. SpacetimeDB has built in functionality for exactly this. With SpacetimeDB you can schedule your module to call itself in the future or repeatedly with reducers.</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>In order to schedule a reducer to be called we have to create a new table which specifies when and how a reducer should be called. Add this new table to the top of the file, below your imports.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">table(name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> spawn_food_timer, scheduled(spawn_food))]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> struct</span><span style="color:#8BE9FD;font-style:italic"> SpawnFoodTimer</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    #[primary_key]</span></span>
<span class="line"><span style="color:#F8F8F2">    #[auto_inc]</span></span>
<span class="line"><span style="color:#F8F8F2">    scheduled_id</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u64</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    scheduled_at</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#8BE9FD;font-style:italic">ScheduleAt</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Note the <code>scheduled(spawn_food)</code> parameter in the table macro. This tells SpacetimeDB that the rows in this table specify a schedule for when the <code>spawn_food</code> reducer should be called. Each scheduled table requires a <code>scheduled_id</code> and a <code>scheduled_at</code> field so that SpacetimeDB can call your reducer, however you can also add your own fields to these rows as well.</p>

            </div>
            <div class="lang-block" data-lang="C#">
                <p>In order to schedule a reducer to be called we have to create a new table which specifies when an how a reducer should be called. Add this new table to the top of the <code>Module</code> class.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Table</span><span style="color:#F8F8F2">(Name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">spawn_food_timer</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, Scheduled </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> nameof</span><span style="color:#F8F8F2">(SpawnFood), ScheduledAt </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> nameof</span><span style="color:#F8F8F2">(scheduled_at))]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> partial</span><span style="color:#FF79C6"> struct</span><span style="color:#8BE9FD;font-style:italic"> SpawnFoodTimer</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#8BE9FD;font-style:italic">PrimaryKey</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">AutoInc</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> ulong</span><span style="color:#F8F8F2"> scheduled_id;</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#8BE9FD;font-style:italic"> ScheduleAt</span><span style="color:#F8F8F2"> scheduled_at;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Note the <code>Scheduled = nameof(SpawnFood)</code> parameter in the table macro. This tells SpacetimeDB that the rows in this table specify a schedule for when the <code>SpawnFood</code> reducer should be called. Each scheduled table requires a <code>scheduled_id</code> and a <code>scheduled_at</code> field so that SpacetimeDB can call your reducer, however you can also add your own fields to these rows as well.</p>

            </div>
        </div>
        <p>You can create, delete, or change a schedule by inserting, deleting, or updating rows in this table. </p>
<p>You will see an error telling you that the <code>spawn_food</code> reducer needs to take two arguments, but currently only takes one. This is because the schedule row must be passed in to all scheduled reducers. Modify your <code>spawn_food</code> reducer to take the scheduled row as an argument.</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> spawn_food</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">, _timer</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> SpawnFoodTimer</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#6272A4">    // ...</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SpawnFood</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">SpawnFoodTimer</span><span style="color:#FFB86C;font-style:italic"> _timer</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#6272A4">    // ...</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>In our case we aren&#39;t interested in the data on the row, so we name the argument <code>_timer</code>.</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>Let&#39;s modify our <code>init</code> reducer to schedule our <code>spawn_food</code> reducer to be called every 500 milliseconds.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer(init)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> init</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#F8F8F2">    log</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">info!</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Initializing..."</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">config</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Config</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        world_size</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 1000</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">spawn_food_timer</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">SpawnFoodTimer</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        scheduled_id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        scheduled_at</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> ScheduleAt</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">Interval</span><span style="color:#F8F8F2">(Duration</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">from_millis</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">500</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">into</span><span style="color:#F8F8F2">()),</span></span>
<span class="line"><span style="color:#F8F8F2">    })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><blockquote class="blockquote-md">
    <div class="top">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="256"
            height="256"
            viewBox="0 0 256 256"
        >
            <path
                fill="white"
                d="M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z"
            />
        </svg>
        <p class="blockquote-p">Note</p>
    </div>
    <div><p>You can use <code>ScheduleAt::Interval</code> to schedule a reducer call at an interval like we&#39;re doing here. SpacetimeDB will continue to call the reducer at this interval until you remove the row. You can also use <code>ScheduleAt::Time()</code> to specify a specific at which to call a reducer once. SpacetimeDB will remove that row automatically after the reducer has been called.</p></div>
</blockquote>

            </div>
            <div class="lang-block" data-lang="C#">
                <p>Let&#39;s modify our <code>Init</code> reducer to schedule our <code>SpawnFood</code> reducer to be called every 500 milliseconds.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">(ReducerKind.Init)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Init</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    Log.</span><span style="color:#50FA7B">Info</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">$"</span><span style="color:#F1FA8C">Initializing...</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.config.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Config</span><span style="color:#F8F8F2"> { world_size </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 1000</span><span style="color:#F8F8F2"> });</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.spawn_food_timer.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> SpawnFoodTimer</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        scheduled_at </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> ScheduleAt</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Interval</span><span style="color:#F8F8F2">(TimeSpan.</span><span style="color:#50FA7B">FromMilliseconds</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">500</span><span style="color:#F8F8F2">))</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><blockquote class="blockquote-md">
    <div class="top">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="256"
            height="256"
            viewBox="0 0 256 256"
        >
            <path
                fill="white"
                d="M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z"
            />
        </svg>
        <p class="blockquote-p">Note</p>
    </div>
    <div><p>You can use <code>ScheduleAt.Interval</code> to schedule a reducer call at an interval like we&#39;re doing here. SpacetimeDB will continue to call the reducer at this interval until you remove the row. You can also use <code>ScheduleAt.Time()</code> to specify a specific at which to call a reducer once. SpacetimeDB will remove that row automatically after the reducer has been called.</p></div>
</blockquote>

            </div>
        </div>
        <h4 id="logging-players-in">Logging Players In<a href="#logging-players-in" class="permalink"><span class="visually-hidden"></span></a></h4><p>Let&#39;s continue building out our server module by modifying it to log in a player when they connect to the database, or to create a new player if they&#39;ve never connected before.</p>
<p>Let&#39;s add a second table to our <code>Player</code> struct. Modify the <code>Player</code> struct by adding this above the struct:</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">table(name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> logged_out_player)]</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Table</span><span style="color:#F8F8F2">(Name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">logged_out_player</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)]</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>Your struct should now look like this:</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">table(name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player, public)]</span></span>
<span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">table(name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> logged_out_player)]</span></span>
<span class="line"><span style="color:#F8F8F2">#[derive(</span><span style="color:#8BE9FD;font-style:italic">Debug</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Clone</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> struct</span><span style="color:#8BE9FD;font-style:italic"> Player</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    #[primary_key]</span></span>
<span class="line"><span style="color:#F8F8F2">    identity</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Identity</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    #[unique]</span></span>
<span class="line"><span style="color:#F8F8F2">    #[auto_inc]</span></span>
<span class="line"><span style="color:#F8F8F2">    player_id</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    name</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> String</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Table</span><span style="color:#F8F8F2">(Name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">player</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">, Public </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Table</span><span style="color:#F8F8F2">(Name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">logged_out_player</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> partial</span><span style="color:#FF79C6"> struct</span><span style="color:#8BE9FD;font-style:italic"> Player</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#8BE9FD;font-style:italic">PrimaryKey</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#8BE9FD;font-style:italic"> Identity</span><span style="color:#F8F8F2"> identity;</span></span>
<span class="line"><span style="color:#F8F8F2">    [</span><span style="color:#8BE9FD;font-style:italic">Unique</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">AutoInc</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> player_id;</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> string</span><span style="color:#F8F8F2"> name;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>This line creates an additional tabled called <code>logged_out_player</code> whose rows share the same <code>Player</code> type as in the <code>player</code> table.</p>
<blockquote>
<p>IMPORTANT! Note that this new table is not marked <code>public</code>. This means that it can only be accessed by the database owner (which is almost always the database creator). In order to prevent any unintended data access, all SpacetimeDB tables are private by default.</p>
<p>If your client isn&#39;t syncing rows from the server, check that your table is not accidentally marked private.</p>
</blockquote>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>Next, modify your <code>connect</code> reducer and add a new <code>disconnect</code> reducer below it:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer(client_connected)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> connect</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#FF79C6"> let</span><span style="color:#8BE9FD;font-style:italic"> Some</span><span style="color:#F8F8F2">(player) </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">logged_out_player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender) {</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">insert</span><span style="color:#F8F8F2">(player</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">clone</span><span style="color:#F8F8F2">());</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span></span>
<span class="line"><span style="color:#FF79C6">            .</span><span style="color:#50FA7B">logged_out_player</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">            .</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">            .</span><span style="color:#50FA7B">delete</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">player</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">identity);</span></span>
<span class="line"><span style="color:#F8F8F2">    } </span><span style="color:#FF79C6">else</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Player</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">            identity</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender,</span></span>
<span class="line"><span style="color:#F8F8F2">            player_id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">            name</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> String</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">new</span><span style="color:#F8F8F2">(),</span></span>
<span class="line"><span style="color:#F8F8F2">        })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer(client_disconnected)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> disconnect</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">db</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender)</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">ok_or</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Player not found"</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">player_id;</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">logged_out_player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">insert</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">delete</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                <p>Next, modify your <code>Connect</code> reducer and add a new <code>Disconnect</code> reducer below it:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">(ReducerKind.ClientConnected)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Connect</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.logged_out_player.identity.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(ctx.Sender);</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> (player </span><span style="color:#FF79C6">!=</span><span style="color:#BD93F9"> null</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.player.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(player.Value);</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.logged_out_player.identity.</span><span style="color:#50FA7B">Delete</span><span style="color:#F8F8F2">(player.Value.identity);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#FF79C6">    else</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.player.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Player</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            identity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Sender,</span></span>
<span class="line"><span style="color:#F8F8F2">            name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> ""</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        });</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">(ReducerKind.ClientDisconnected)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Disconnect</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.player.identity.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(ctx.Sender) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Player not found</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.logged_out_player.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.player.identity.</span><span style="color:#50FA7B">Delete</span><span style="color:#F8F8F2">(player.identity);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>Now when a client connects, if the player corresponding to the client is in the <code>logged_out_player</code> table, we will move them into the <code>player</code> table, thus indicating that they are logged in and connected. For any new unrecognized client connects we will create a <code>Player</code> and insert it into the <code>player</code> table.</p>
<p>When a player disconnects, we will transfer their player row from the <code>player</code> table to the <code>logged_out_player</code> table to indicate they&#39;re offline.</p>
<blockquote>
<p>Note that we could have added a <code>logged_in</code> boolean to the <code>Player</code> type to indicated whether the player is logged in. There&#39;s nothing incorrect about that approach, however for several reasons we recommend this two table approach:</p>
<ul>
<li>We can iterate over all logged in players without any <code>if</code> statements or branching</li>
<li>The <code>Player</code> type now uses less program memory improving cache efficiency</li>
<li>We can easily check whether a player is logged in, based on whether their row exists in the <code>player</code> table</li>
</ul>
<p>This approach is more generally referred to as <a href="https://www.dataorienteddesign.com/dodmain/node4.html">existence based processing</a> and it is a common technique in data-oriented design.</p>
</blockquote>
<h4 id="spawning-player-circles">Spawning Player Circles<a href="#spawning-player-circles" class="permalink"><span class="visually-hidden"></span></a></h4><p>Now that we&#39;ve got our food spawning and our players set up, let&#39;s create a match and spawn player circle entities into it. The first thing we should do before spawning a player into a match is give them a name. </p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>Add the following to the bottom of your file.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#BD93F9"> START_PLAYER_MASS</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#FF79C6"> =</span><span style="color:#BD93F9"> 15</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> enter_game</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">, name</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> String</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#F8F8F2">    log</span><span style="color:#FF79C6">::</span><span style="color:#50FA7B">info!</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Creating player with name {}"</span><span style="color:#F8F8F2">, name);</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#FF79C6"> mut</span><span style="color:#F8F8F2"> player</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Player</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender)</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">ok_or</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">""</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">player_id;</span></span>
<span class="line"><span style="color:#F8F8F2">    player</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> name;</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">update</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#50FA7B">    spawn_player_initial_circle</span><span style="color:#F8F8F2">(ctx, player_id)</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">fn</span><span style="color:#50FA7B"> spawn_player_initial_circle</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">, player_id</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#FF79C6"> mut</span><span style="color:#F8F8F2"> rng </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">rng</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> world_size </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">db</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">config</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">id</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">ok_or</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Config not found"</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">?</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">world_size;</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player_start_radius </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> mass_to_radius</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">START_PLAYER_MASS</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> x </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">gen_range</span><span style="color:#F8F8F2">(player_start_radius</span><span style="color:#FF79C6">..</span><span style="color:#F8F8F2">(world_size </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#FF79C6"> -</span><span style="color:#F8F8F2"> player_start_radius));</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> y </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">gen_range</span><span style="color:#F8F8F2">(player_start_radius</span><span style="color:#FF79C6">..</span><span style="color:#F8F8F2">(world_size </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> f32</span><span style="color:#FF79C6"> -</span><span style="color:#F8F8F2"> player_start_radius));</span></span>
<span class="line"><span style="color:#50FA7B">    spawn_circle_at</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx,</span></span>
<span class="line"><span style="color:#F8F8F2">        player_id,</span></span>
<span class="line"><span style="color:#BD93F9">        START_PLAYER_MASS</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">        DbVector2</span><span style="color:#F8F8F2"> { x, y },</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">timestamp,</span></span>
<span class="line"><span style="color:#F8F8F2">    )</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">fn</span><span style="color:#50FA7B"> spawn_circle_at</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    player_id</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    mass</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> u32</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    position</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">    timestamp</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> Timestamp</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">entity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        entity_id</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        position,</span></span>
<span class="line"><span style="color:#F8F8F2">        mass,</span></span>
<span class="line"><span style="color:#F8F8F2">    })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">circle</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">try_insert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Circle</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">        entity_id</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> entity</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">entity_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        player_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        direction</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2"> { x</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0.0</span><span style="color:#F8F8F2">, y</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 1.0</span><span style="color:#F8F8F2"> },</span></span>
<span class="line"><span style="color:#F8F8F2">        speed</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0.0</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        last_split_time</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> timestamp,</span></span>
<span class="line"><span style="color:#F8F8F2">    })</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(entity)</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>The <code>enter_game</code> reducer takes one argument, the player&#39;s <code>name</code>. We can use this name to display as a label for the player in the match, by storing the name on the player&#39;s row. We are also spawning some circles for the player to control now that they are entering the game. To do this, we choose a random position within the bounds of the arena and create a new entity and corresponding circle row.</p>

            </div>
            <div class="lang-block" data-lang="C#">
                <p>Add the following to the end of the <code>Module</code> class.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> START_PLAYER_MASS </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 15</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> EnterGame</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">string</span><span style="color:#FFB86C;font-style:italic"> name</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">    Log.</span><span style="color:#50FA7B">Info</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">$"</span><span style="color:#F1FA8C">Creating player with name </span><span style="color:#FF79C6">{</span><span style="color:#F8F8F2">name</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.player.identity.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(ctx.Sender) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Player not found</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    player.name </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> name;</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.player.identity.</span><span style="color:#50FA7B">Update</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#50FA7B">    SpawnPlayerInitialCircle</span><span style="color:#F8F8F2">(ctx, player.player_id);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Entity</span><span style="color:#50FA7B"> SpawnPlayerInitialCircle</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> player_id</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> rng </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Rng;</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> world_size </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (ctx.Db.config.id.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Config not found</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">)).world_size;</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> player_start_radius </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> MassToRadius</span><span style="color:#F8F8F2">(START_PLAYER_MASS);</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> x </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">Range</span><span style="color:#F8F8F2">(player_start_radius, world_size </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> player_start_radius);</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> y </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> rng.</span><span style="color:#50FA7B">Range</span><span style="color:#F8F8F2">(player_start_radius, world_size </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2"> player_start_radius);</span></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#50FA7B"> SpawnCircleAt</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx,</span></span>
<span class="line"><span style="color:#F8F8F2">        player_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        START_PLAYER_MASS,</span></span>
<span class="line"><span style="color:#FF79C6">        new</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">(x, y),</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Timestamp</span></span>
<span class="line"><span style="color:#F8F8F2">    );</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Entity</span><span style="color:#50FA7B"> SpawnCircleAt</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> player_id</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> mass</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">DbVector2</span><span style="color:#FFB86C;font-style:italic"> position</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Timestamp</span><span style="color:#FFB86C;font-style:italic"> timestamp</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.entity.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Entity</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> position,</span></span>
<span class="line"><span style="color:#F8F8F2">        mass </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> mass,</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.circle.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Circle</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        entity_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> entity.entity_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        player_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player_id,</span></span>
<span class="line"><span style="color:#F8F8F2">        direction </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">        speed </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 0f</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">        last_split_time </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> timestamp,</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#F8F8F2"> entity;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>The <code>EnterGame</code> reducer takes one argument, the player&#39;s <code>name</code>. We can use this name to display as a label for the player in the match, by storing the name on the player&#39;s row. We are also spawning some circles for the player to control now that they are entering the game. To do this, we choose a random position within the bounds of the arena and create a new entity and corresponding circle row.</p>

            </div>
        </div>
        <p>Let&#39;s also modify our <code>disconnect</code> reducer to remove the circles from the arena when the player disconnects from the database server.</p>

        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">#[spacetimedb</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">reducer(client_disconnected)]</span></span>
<span class="line"><span style="color:#FF79C6">pub</span><span style="color:#FF79C6"> fn</span><span style="color:#50FA7B"> disconnect</span><span style="color:#F8F8F2">(ctx</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> &#x26;</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">-></span><span style="color:#8BE9FD;font-style:italic"> Result</span><span style="color:#F8F8F2">&#x3C;(), </span><span style="color:#8BE9FD;font-style:italic">String</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#F8F8F2">db</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender)</span></span>
<span class="line"><span style="color:#FF79C6">        .</span><span style="color:#50FA7B">ok_or</span><span style="color:#F8F8F2">(</span><span style="color:#F1FA8C">"Player not found"</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">    let</span><span style="color:#F8F8F2"> player_id </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">player_id;</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">logged_out_player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">insert</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">identity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">delete</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">sender);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">    // Remove any circles from the arena</span></span>
<span class="line"><span style="color:#FF79C6">    for</span><span style="color:#F8F8F2"> circle </span><span style="color:#FF79C6">in</span><span style="color:#F8F8F2"> ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">circle</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">player_id</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">filter</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">player_id) {</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">entity</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">entity_id</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">delete</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">circle</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">entity_id);</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">db</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">circle</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">entity_id</span><span style="color:#F8F8F2">()</span><span style="color:#FF79C6">.</span><span style="color:#50FA7B">delete</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">&#x26;</span><span style="color:#F8F8F2">circle</span><span style="color:#FF79C6">.</span><span style="color:#F8F8F2">entity_id);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">    Ok</span><span style="color:#F8F8F2">(())</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
            <div class="lang-block" data-lang="C#">
                
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">[</span><span style="color:#8BE9FD;font-style:italic">Reducer</span><span style="color:#F8F8F2">(ReducerKind.ClientDisconnected)]</span></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Disconnect</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">ReducerContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.player.identity.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(ctx.Sender) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Player not found</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#6272A4">    // Remove any circles from the arena</span></span>
<span class="line"><span style="color:#FF79C6">    foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">var</span><span style="color:#F8F8F2"> circle </span><span style="color:#FF79C6">in</span><span style="color:#F8F8F2"> ctx.Db.circle.player_id.</span><span style="color:#50FA7B">Filter</span><span style="color:#F8F8F2">(player.player_id))</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ctx.Db.entity.entity_id.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(circle.entity_id) </span><span style="color:#FF79C6">??</span><span style="color:#FF79C6"> throw</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Exception</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Could not find circle</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.entity.entity_id.</span><span style="color:#50FA7B">Delete</span><span style="color:#F8F8F2">(entity.entity_id);</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Db.circle.entity_id.</span><span style="color:#50FA7B">Delete</span><span style="color:#F8F8F2">(entity.entity_id);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.logged_out_player.</span><span style="color:#50FA7B">Insert</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#F8F8F2">    ctx.Db.player.identity.</span><span style="color:#50FA7B">Delete</span><span style="color:#F8F8F2">(player.identity);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre>
            </div>
        </div>
        <p>Finally, publish the new module to SpacetimeDB with this command:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#50FA7B">spacetime</span><span style="color:#F1FA8C"> publish</span><span style="color:#BD93F9"> --server</span><span style="color:#F1FA8C"> local</span><span style="color:#F1FA8C"> blackholio</span><span style="color:#BD93F9"> --delete-data</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Deleting the data is optional in this case, but in case you&#39;ve been messing around with the module we can just start fresh.</p>
<h4 id="creating-the-arena">Creating the Arena<a href="#creating-the-arena" class="permalink"><span class="visually-hidden"></span></a></h4><p>Now that we&#39;ve set up our server logic to spawn food and players, let&#39;s continue developing our Unity client to display what we have so far.</p>
<p>Start by adding <code>SetupArena</code> and <code>CreateBorderCube</code> methods to your <code>GameManager</code> class: </p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SetupArena</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">float</span><span style="color:#FFB86C;font-style:italic"> worldSize</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, borderThickness)); </span><span style="color:#6272A4">//North</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2">borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, borderThickness)); </span><span style="color:#6272A4">//South</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(borderThickness, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">)); </span><span style="color:#6272A4">//East</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2">borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(borderThickness, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">)); </span><span style="color:#6272A4">//West</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#FFB86C;font-style:italic"> position</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#FFB86C;font-style:italic"> scale</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> cube </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> GameObject.</span><span style="color:#50FA7B">CreatePrimitive</span><span style="color:#F8F8F2">(PrimitiveType.Cube);</span></span>
<span class="line"><span style="color:#F8F8F2">        cube.name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Border</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        cube.transform.localScale </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2">(scale.x, scale.y, </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        cube.transform.position </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2">(position.x, position.y, </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        cube.</span><span style="color:#50FA7B">GetComponent</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">MeshRenderer</span><span style="color:#F8F8F2">>().material </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> borderMaterial;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>In your <code>HandleSubscriptionApplied</code> let&#39;s now call <code>SetupArena</code> method. Modify your <code>HandleSubscriptionApplied</code> method as in the below.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> HandleSubscriptionApplied</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">SubscriptionEventContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        Debug.</span><span style="color:#50FA7B">Log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Subscription applied!</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        OnSubscriptionApplied</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">Invoke</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">        // Once we have the initial subscription sync'd to the client cache</span></span>
<span class="line"><span style="color:#6272A4">        // Get the world size from the config table and set up the arena</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> worldSize </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Conn.Db.Config.Id.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">).WorldSize;</span></span>
<span class="line"><span style="color:#50FA7B">        SetupArena</span><span style="color:#F8F8F2">(worldSize);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>The <code>OnApplied</code> callback will be called after the server synchronizes the initial state of your tables with your client. Once the sync has happened, we can look up the world size from the <code>config</code> table and use it to set up our arena.</p>
<p>In the scene view, select the <code>GameManager</code> object. Click on the <code>Border Material</code> property and choose <code>Sprites-Default</code>.</p>
<h4 id="creating-gameobjects">Creating GameObjects<a href="#creating-gameobjects" class="permalink"><span class="visually-hidden"></span></a></h4><p>Now that we have our arena all set up, we need to take the row data that SpacetimeDB syncs with our client and use it to create and draw <code>GameObject</code>s on the screen.</p>
<p>Let&#39;s start by making some controller scripts for each of the game objects we&#39;d like to have in our scene. In the project window, right-click and select <code>Create &gt; C# Script</code>. Name the new script <code>PlayerController.cs</code>. Repeat that process for <code>CircleController.cs</code> and <code>FoodController.cs</code>. We&#39;ll modify the contents of these files later.</p>
<p>Now let&#39;s make some prefabs for our game objects. In the scene hierarchy window, create a new <code>GameObject</code> by right-clicking and selecting:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span>2D Object > Sprites > Circle</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Rename the new game object in the scene to <code>CirclePrefab</code>. Next in the <code>Inspector</code> window click the <code>Add Component</code> button and add the <code>Circle Controller</code> script component that we just created. Finally drag the object into the <code>Project</code> folder. Once the prefab file is created, delete the <code>CirclePrefab</code> object from the scene. We&#39;ll use this prefab to draw the circles that a player controls.</p>
<p>Next repeat that same process for the <code>FoodPrefab</code> and <code>Food Controller</code> component. </p>
<p>In the <code>Project</code> view, double click the <code>CirclePrefab</code> to bring it up in the scene view. Right-click anywhere in the hierarchy and navigate to:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span>UI > Text - Text Mesh Pro</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>This will add a label to the circle prefab. You may need to import &quot;TextMeshPro Essential Resources&quot; into Unity in order to add the TextMeshPro element. Your logs will say &quot;[TMP Essential Resources] have been imported.&quot; if it has worked correctly. Don&#39;t forget to set the transform position of the label to <code>Pos X: 0, Pos Y: 0, Pos Z: 0</code>.</p>
<p>Finally we need to make the <code>PlayerPrefab</code>. In the hierarchy window, create a new <code>GameObject</code> by right-clicking and selecting:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span>Create Empty</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Rename the game object to <code>PlayerPrefab</code>. Next in the <code>Inspector</code> window click the <code>Add Component</code> button and add the <code>Player Controller</code> script component that we just created. Next drag the object into the <code>Project</code> folder. Once the prefab file is created, delete the <code>PlayerPrefab</code> object from the scene.</p>
<h5 id="entitycontroller">EntityController<a href="#entitycontroller" class="permalink"><span class="visually-hidden"></span></a></h5><p>Let&#39;s also create an <code>EntityController</code> script which will serve as a base class for both our <code>CircleController</code> and <code>FoodController</code> classes since both <code>Circle</code>s and <code>Food</code> are entities.</p>
<p>Create a new file called <code>EntityController.cs</code> and replace its contents with:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Generic</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Linq</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> Unity</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">VisualScripting</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> abstract</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> EntityController</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">MonoBehaviour</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	const</span><span style="color:#FF79C6"> float</span><span style="color:#F8F8F2"> LERP_DURATION_SEC </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 0.1f</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> readonly</span><span style="color:#FF79C6"> int</span><span style="color:#F8F8F2"> ShaderColorProperty </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Shader.</span><span style="color:#50FA7B">PropertyToID</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">_Color</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">	[</span><span style="color:#8BE9FD;font-style:italic">DoNotSerialize</span><span style="color:#F8F8F2">] </span><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> EntityId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	protected</span><span style="color:#FF79C6"> float</span><span style="color:#F8F8F2"> LerpTime;</span></span>
<span class="line"><span style="color:#FF79C6">	protected</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2"> LerpStartPosition;</span></span>
<span class="line"><span style="color:#FF79C6">	protected</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2"> LerpTargetPosition;</span></span>
<span class="line"><span style="color:#FF79C6">	protected</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2"> TargetScale;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	protected</span><span style="color:#FF79C6"> virtual</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Spawn</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> entityId</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		EntityId </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> entityId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">		var</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> GameManager.Conn.Db.Entity.EntityId.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(entityId);</span></span>
<span class="line"><span style="color:#F8F8F2">		LerpStartPosition </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> LerpTargetPosition </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> transform.position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#F8F8F2">)entity.Position;</span></span>
<span class="line"><span style="color:#F8F8F2">		transform.localScale </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Vector3.one;</span></span>
<span class="line"><span style="color:#F8F8F2">		TargetScale </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> MassToScale</span><span style="color:#F8F8F2">(entity.Mass);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SetColor</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#FFB86C;font-style:italic"> color</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#50FA7B">		GetComponent</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">SpriteRenderer</span><span style="color:#F8F8F2">>().material.</span><span style="color:#50FA7B">SetColor</span><span style="color:#F8F8F2">(ShaderColorProperty, color);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> virtual</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnEntityUpdated</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#FFB86C;font-style:italic"> newVal</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		LerpTime </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 0.0f</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">		LerpStartPosition </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> transform.position;</span></span>
<span class="line"><span style="color:#F8F8F2">		LerpTargetPosition </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> (</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#F8F8F2">)newVal.Position;</span></span>
<span class="line"><span style="color:#F8F8F2">		TargetScale </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> MassToScale</span><span style="color:#F8F8F2">(newVal.Mass);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> virtual</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnDelete</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#50FA7B">		Destroy</span><span style="color:#F8F8F2">(gameObject);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> virtual</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Update</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#6272A4">		// Interpolate position and scale</span></span>
<span class="line"><span style="color:#F8F8F2">		LerpTime </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Mathf.</span><span style="color:#50FA7B">Min</span><span style="color:#F8F8F2">(LerpTime </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> Time.deltaTime, LERP_DURATION_SEC);</span></span>
<span class="line"><span style="color:#F8F8F2">		transform.position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Vector3.</span><span style="color:#50FA7B">Lerp</span><span style="color:#F8F8F2">(LerpStartPosition, LerpTargetPosition, LerpTime </span><span style="color:#FF79C6">/</span><span style="color:#F8F8F2"> LERP_DURATION_SEC);</span></span>
<span class="line"><span style="color:#F8F8F2">		transform.localScale </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Vector3.</span><span style="color:#50FA7B">Lerp</span><span style="color:#F8F8F2">(transform.localScale, TargetScale, Time.deltaTime </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 8</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#50FA7B"> MassToScale</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> mass</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		var</span><span style="color:#F8F8F2"> diameter </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> MassToDiameter</span><span style="color:#F8F8F2">(mass);</span></span>
<span class="line"><span style="color:#FF79C6">		return</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2">(diameter, diameter, </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> float</span><span style="color:#50FA7B"> MassToRadius</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> mass</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> Mathf.</span><span style="color:#50FA7B">Sqrt</span><span style="color:#F8F8F2">(mass);</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> float</span><span style="color:#50FA7B"> MassToDiameter</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> mass</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#50FA7B"> MassToRadius</span><span style="color:#F8F8F2">(mass) </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>The <code>EntityController</code> script just provides some helper functions and basic functionality to manage our game objects based on entity updates.</p>
<blockquote>
<p>One notable feature is that we linearly interpolate (lerp) between the position where the server says the entity is, and where we actually draw it. This is a common technique which provides for smoother movement.</p>
<p>If you&#39;re interested in learning more checkout <a href="https://gabrielgambetta.com/client-side-prediction-live-demo.html">this demo</a> from Gabriel Gambetta.</p>
</blockquote>
<p>At this point you&#39;ll have a compilation error because we can&#39;t yet convert from <code>SpacetimeDB.Types.DbVector2</code> to <code>UnityEngine.Vector2</code>. To fix this, let&#39;s also create a new <code>Extensions.cs</code> script and replace the contents with:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">namespace</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> partial</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> DbVector2</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> implicit</span><span style="color:#FF79C6"> operator</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">DbVector2</span><span style="color:#FFB86C;font-style:italic"> vec</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">		{</span></span>
<span class="line"><span style="color:#FF79C6">			return</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(vec.X, vec.Y);</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">		public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> implicit</span><span style="color:#FF79C6"> operator</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#FFB86C;font-style:italic"> vec</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">		{</span></span>
<span class="line"><span style="color:#FF79C6">			return</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> DbVector2</span><span style="color:#F8F8F2">(vec.x, vec.y);</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>This just allows us to implicitly convert between our <code>DbVector2</code> type and the Unity <code>Vector2</code> type.</p>
<h5 id="circlecontroller">CircleController<a href="#circlecontroller" class="permalink"><span class="visually-hidden"></span></a></h5><p>Now open the <code>CircleController</code> script and modify the contents of the <code>CircleController</code> script to be:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Generic</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> CircleController</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">EntityController</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Color</span><span style="color:#F8F8F2">[] ColorPalette </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#F8F8F2">[]</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#6272A4">        //Yellow</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">175</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">159</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">49</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">175</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">116</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">49</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#6272A4">        //Purple</span></span>
<span class="line"><span style="color:#F8F8F2">        (</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">112</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">47</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">252</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">51</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">91</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">252</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#6272A4">        //Red</span></span>
<span class="line"><span style="color:#F8F8F2">        (</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">176</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">54</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">54</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">176</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">109</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">54</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">141</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">43</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">99</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#6272A4">        //Blue</span></span>
<span class="line"><span style="color:#F8F8F2">        (</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">2</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">188</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">250</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">7</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">50</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">251</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">2</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">28</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">146</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#8BE9FD;font-style:italic"> PlayerController</span><span style="color:#F8F8F2"> Owner;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Spawn</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Circle</span><span style="color:#FFB86C;font-style:italic"> circle</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">PlayerController</span><span style="color:#FFB86C;font-style:italic"> owner</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        base</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">Spawn</span><span style="color:#F8F8F2">(circle.EntityId);</span></span>
<span class="line"><span style="color:#50FA7B">		SetColor</span><span style="color:#F8F8F2">(ColorPalette[circle.PlayerId </span><span style="color:#FF79C6">%</span><span style="color:#F8F8F2"> ColorPalette.Length]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        this</span><span style="color:#F8F8F2">.Owner </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> owner;</span></span>
<span class="line"><span style="color:#50FA7B">        GetComponentInChildren</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">TMPro</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">TextMeshProUGUI</span><span style="color:#F8F8F2">>().text </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> owner.Username;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> override</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnDelete</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">		base</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">OnDelete</span><span style="color:#F8F8F2">(context);</span></span>
<span class="line"><span style="color:#F8F8F2">        Owner.</span><span style="color:#50FA7B">OnCircleDeleted</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9;font-style:italic">this</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>At the top, we&#39;re just defining some possible colors for our circle. We&#39;ve also created a spawn function which takes a <code>Circle</code> (same type that&#39;s in our <code>circle</code> table) and a <code>PlayerController</code> which sets the color based on the circle&#39;s player ID, as well as setting the text of the Cricle to be the player&#39;s username.</p>
<p>Note that the <code>CircleController</code> inherits from the <code>EntityController</code>, not <code>MonoBehavior</code>.</p>
<h5 id="foodcontroller">FoodController<a href="#foodcontroller" class="permalink"><span class="visually-hidden"></span></a></h5><p>Next open the <code>FoodController.cs</code> file and replace the contents with:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> Unity</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">VisualScripting</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> FoodController</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">EntityController</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Color</span><span style="color:#F8F8F2">[] ColorPalette </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#F8F8F2">[]</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">119</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">252</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">173</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">76</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">250</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">146</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">35</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">246</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">120</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">119</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">251</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">201</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">76</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">249</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">184</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">		(</span><span style="color:#8BE9FD;font-style:italic">Color</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Color32</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">35</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">245</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">165</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">255</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#F8F8F2">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Spawn</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Food</span><span style="color:#FFB86C;font-style:italic"> food</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic">        base</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">Spawn</span><span style="color:#F8F8F2">(food.EntityId);</span></span>
<span class="line"><span style="color:#50FA7B">		SetColor</span><span style="color:#F8F8F2">(ColorPalette[EntityId </span><span style="color:#FF79C6">%</span><span style="color:#F8F8F2"> ColorPalette.Length]);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><h5 id="playercontroller">PlayerController<a href="#playercontroller" class="permalink"><span class="visually-hidden"></span></a></h5><p>Open the <code>PlayerController</code> script and modify the contents of the <code>PlayerController</code> script to be:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Generic</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Linq</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> PlayerController</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">MonoBehaviour</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	const</span><span style="color:#FF79C6"> int</span><span style="color:#F8F8F2"> SEND_UPDATES_PER_SEC </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 20</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">	const</span><span style="color:#FF79C6"> float</span><span style="color:#F8F8F2"> SEND_UPDATES_FREQUENCY </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 1f</span><span style="color:#FF79C6"> /</span><span style="color:#F8F8F2"> SEND_UPDATES_PER_SEC;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> PlayerController</span><span style="color:#F8F8F2"> Local { </span><span style="color:#FF79C6">get</span><span style="color:#F8F8F2">; </span><span style="color:#FF79C6">private</span><span style="color:#FF79C6"> set</span><span style="color:#F8F8F2">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> uint</span><span style="color:#F8F8F2"> PlayerId;</span></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> float</span><span style="color:#F8F8F2"> LastMovementSendTimestamp;</span></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">? LockInputPosition;</span></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#8BE9FD;font-style:italic"> List</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">CircleController</span><span style="color:#F8F8F2">> OwnedCircles </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> List</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">CircleController</span><span style="color:#F8F8F2">>();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> string</span><span style="color:#F8F8F2"> Username </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> GameManager.Conn.Db.Player.PlayerId.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(PlayerId).Name;</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> int</span><span style="color:#F8F8F2"> NumberOfOwnedCircles </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> OwnedCircles.Count;</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> bool</span><span style="color:#F8F8F2"> IsLocalPlayer </span><span style="color:#FF79C6">=></span><span style="color:#BD93F9;font-style:italic"> this</span><span style="color:#FF79C6"> ==</span><span style="color:#F8F8F2"> Local;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Initialize</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Player</span><span style="color:#FFB86C;font-style:italic"> player</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        PlayerId </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> player.PlayerId;</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (player.Identity </span><span style="color:#FF79C6">==</span><span style="color:#F8F8F2"> GameManager.LocalIdentity)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            Local </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9;font-style:italic"> this</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnDestroy</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#6272A4">        // If we have any circles, destroy them</span></span>
<span class="line"><span style="color:#FF79C6">        foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">var</span><span style="color:#F8F8F2"> circle </span><span style="color:#FF79C6">in</span><span style="color:#F8F8F2"> OwnedCircles)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#FF79C6">            if</span><span style="color:#F8F8F2"> (circle </span><span style="color:#FF79C6">!=</span><span style="color:#BD93F9"> null</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">            {</span></span>
<span class="line"><span style="color:#50FA7B">                Destroy</span><span style="color:#F8F8F2">(circle.gameObject);</span></span>
<span class="line"><span style="color:#F8F8F2">            }</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">        OwnedCircles.</span><span style="color:#50FA7B">Clear</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnCircleSpawned</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">CircleController</span><span style="color:#FFB86C;font-style:italic"> circle</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        OwnedCircles.</span><span style="color:#50FA7B">Add</span><span style="color:#F8F8F2">(circle);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnCircleDeleted</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">CircleController</span><span style="color:#FFB86C;font-style:italic"> deletedCircle</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#6272A4">		// This means we got eaten</span></span>
<span class="line"><span style="color:#FF79C6">		if</span><span style="color:#F8F8F2"> (OwnedCircles.</span><span style="color:#50FA7B">Remove</span><span style="color:#F8F8F2">(deletedCircle) </span><span style="color:#FF79C6">&#x26;&#x26;</span><span style="color:#F8F8F2"> IsLocalPlayer </span><span style="color:#FF79C6">&#x26;&#x26;</span><span style="color:#F8F8F2"> OwnedCircles.Count </span><span style="color:#FF79C6">==</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">		{</span></span>
<span class="line"><span style="color:#6272A4">			// DeathScreen.Instance.SetVisible(true);</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> uint</span><span style="color:#50FA7B"> TotalMass</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">)OwnedCircles</span></span>
<span class="line"><span style="color:#F8F8F2">            .</span><span style="color:#50FA7B">Select</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">circle</span><span style="color:#FF79C6"> =></span><span style="color:#F8F8F2"> GameManager.Conn.Db.Entity.EntityId.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(circle.EntityId))</span></span>
<span class="line"><span style="color:#F8F8F2">			.</span><span style="color:#50FA7B">Sum</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">e</span><span style="color:#FF79C6"> =></span><span style="color:#F8F8F2"> e</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">.Mass </span><span style="color:#FF79C6">??</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">); </span><span style="color:#6272A4">//If this entity is being deleted on the same frame that we're moving, we can have a null entity here.</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">? </span><span style="color:#50FA7B">CenterOfMass</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (OwnedCircles.Count </span><span style="color:#FF79C6">==</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#FF79C6">            return</span><span style="color:#BD93F9"> null</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">        </span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic">        Vector2</span><span style="color:#F8F8F2"> totalPos </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Vector2.zero;</span></span>
<span class="line"><span style="color:#FF79C6">        float</span><span style="color:#F8F8F2"> totalMass </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">        foreach</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">var</span><span style="color:#F8F8F2"> circle </span><span style="color:#FF79C6">in</span><span style="color:#F8F8F2"> OwnedCircles)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#FF79C6">            var</span><span style="color:#F8F8F2"> entity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> GameManager.Conn.Db.Entity.EntityId.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(circle.EntityId);</span></span>
<span class="line"><span style="color:#FF79C6">            var</span><span style="color:#F8F8F2"> position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> circle.transform.position;</span></span>
<span class="line"><span style="color:#F8F8F2">            totalPos </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> (</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#F8F8F2">)position </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> entity.Mass;</span></span>
<span class="line"><span style="color:#F8F8F2">            totalMass </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> entity.Mass;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#F8F8F2"> totalPos </span><span style="color:#FF79C6">/</span><span style="color:#F8F8F2"> totalMass;</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> OnGUI</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		if</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">IsLocalPlayer </span><span style="color:#FF79C6">||</span><span style="color:#FF79C6"> !</span><span style="color:#F8F8F2">GameManager.</span><span style="color:#50FA7B">IsConnected</span><span style="color:#F8F8F2">())</span></span>
<span class="line"><span style="color:#F8F8F2">		{</span></span>
<span class="line"><span style="color:#FF79C6">			return</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">		GUI.</span><span style="color:#50FA7B">Label</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Rect</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">100</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">50</span><span style="color:#F8F8F2">), </span><span style="color:#E9F284">$"</span><span style="color:#F1FA8C">Total Mass: </span><span style="color:#FF79C6">{</span><span style="color:#50FA7B">TotalMass</span><span style="color:#F1FA8C">()</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">	//Automated testing members</span></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> bool</span><span style="color:#F8F8F2"> testInputEnabled;</span></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2"> testInput;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SetTestInput</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Vector2</span><span style="color:#FFB86C;font-style:italic"> input</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> testInput </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> input;</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> EnableTestInput</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">=></span><span style="color:#F8F8F2"> testInputEnabled </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Let&#39;s also add a new <code>PrefabManager.cs</code> script which we can use as a factory for creating prefabs. Replace the contents of the file with:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> SpacetimeDB</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Types</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Generic</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> PrefabManager</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">MonoBehaviour</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> PrefabManager</span><span style="color:#F8F8F2"> Instance;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#8BE9FD;font-style:italic"> CircleController</span><span style="color:#F8F8F2"> CirclePrefab;</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#8BE9FD;font-style:italic"> FoodController</span><span style="color:#F8F8F2"> FoodPrefab;</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#8BE9FD;font-style:italic"> PlayerController</span><span style="color:#F8F8F2"> PlayerPrefab;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> Awake</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#F8F8F2">		Instance </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9;font-style:italic"> this</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> CircleController</span><span style="color:#50FA7B"> SpawnCircle</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Circle</span><span style="color:#FFB86C;font-style:italic"> circle</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">PlayerController</span><span style="color:#FFB86C;font-style:italic"> owner</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		var</span><span style="color:#F8F8F2"> entityController </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> Instantiate</span><span style="color:#F8F8F2">(Instance.CirclePrefab);</span></span>
<span class="line"><span style="color:#F8F8F2">		entityController.name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> $"</span><span style="color:#F1FA8C">Circle - </span><span style="color:#FF79C6">{</span><span style="color:#F8F8F2">circle</span><span style="color:#F1FA8C">.</span><span style="color:#F8F8F2">EntityId</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">		entityController.</span><span style="color:#50FA7B">Spawn</span><span style="color:#F8F8F2">(circle, owner);</span></span>
<span class="line"><span style="color:#F8F8F2">		owner.</span><span style="color:#50FA7B">OnCircleSpawned</span><span style="color:#F8F8F2">(entityController);</span></span>
<span class="line"><span style="color:#FF79C6">		return</span><span style="color:#F8F8F2"> entityController;</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> FoodController</span><span style="color:#50FA7B"> SpawnFood</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Food</span><span style="color:#FFB86C;font-style:italic"> food</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		var</span><span style="color:#F8F8F2"> entityController </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> Instantiate</span><span style="color:#F8F8F2">(Instance.FoodPrefab);</span></span>
<span class="line"><span style="color:#F8F8F2">		entityController.name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> $"</span><span style="color:#F1FA8C">Food - </span><span style="color:#FF79C6">{</span><span style="color:#F8F8F2">food</span><span style="color:#F1FA8C">.</span><span style="color:#F8F8F2">EntityId</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">		entityController.</span><span style="color:#50FA7B">Spawn</span><span style="color:#F8F8F2">(food);</span></span>
<span class="line"><span style="color:#FF79C6">		return</span><span style="color:#F8F8F2"> entityController;</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> PlayerController</span><span style="color:#50FA7B"> SpawnPlayer</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">Player</span><span style="color:#FFB86C;font-style:italic"> player</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		var</span><span style="color:#F8F8F2"> playerController </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> Instantiate</span><span style="color:#F8F8F2">(Instance.PlayerPrefab);</span></span>
<span class="line"><span style="color:#F8F8F2">		playerController.name </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> $"</span><span style="color:#F1FA8C">PlayerController - </span><span style="color:#FF79C6">{</span><span style="color:#F8F8F2">player</span><span style="color:#F1FA8C">.</span><span style="color:#F8F8F2">Name</span><span style="color:#FF79C6">}</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">		playerController.</span><span style="color:#50FA7B">Initialize</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#FF79C6">		return</span><span style="color:#F8F8F2"> playerController;</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>In the scene hierarchy, select the <code>GameManager</code> object and add the <code>Prefab Manager</code> script as a component to the <code>GameManager</code> object. Drag the corresponding <code>CirclePrefab</code>, <code>FoodPrefab</code>, and <code>PlayerPrefab</code> prefabs we created earlier from the project view into their respective slots in the <code>Prefab Manager</code>. Save the scene.</p>
<h4 id="hooking-up-the-data">Hooking up the Data<a href="#hooking-up-the-data" class="permalink"><span class="visually-hidden"></span></a></h4><p>We&#39;ve now prepared our Unity project so that we can hook up the data from our tables to the Unity game objects and have them drawn on the screen.</p>
<p>Add a couple dictionaries at the top of your <code>GameManager</code> class which we&#39;ll use to hold onto the game objects we create for our scene. Add these two lines just below your <code>DbConnection</code> like so:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> static</span><span style="color:#F8F8F2"> DbConnection Conn { get; </span><span style="color:#8BE9FD;font-style:italic">private</span><span style="color:#F8F8F2"> set; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Dictionary</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">EntityController</span><span style="color:#F8F8F2">> Entities </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Dictionary</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">EntityController</span><span style="color:#F8F8F2">>();</span></span>
<span class="line"><span style="color:#FF79C6">	public</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> Dictionary</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">PlayerController</span><span style="color:#F8F8F2">> Players </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Dictionary</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">uint</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">PlayerController</span><span style="color:#F8F8F2">>();</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Next lets add some callbacks when rows change in the database. Modify the <code>HandleConnect</code> method as below.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#6272A4">    // Called when we connect to SpacetimeDB and receive our client identity</span></span>
<span class="line"><span style="color:#FF79C6">    void</span><span style="color:#50FA7B"> HandleConnect</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">DbConnection</span><span style="color:#FFB86C;font-style:italic"> conn</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Identity</span><span style="color:#FFB86C;font-style:italic"> identity</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">string</span><span style="color:#FFB86C;font-style:italic"> token</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        Debug.</span><span style="color:#50FA7B">Log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Connected.</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        AuthToken.</span><span style="color:#50FA7B">SaveToken</span><span style="color:#F8F8F2">(token);</span></span>
<span class="line"><span style="color:#F8F8F2">        LocalIdentity </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> identity;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Circle.OnInsert </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> CircleOnInsert;</span></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Entity.OnUpdate </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> EntityOnUpdate;</span></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Entity.OnDelete </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> EntityOnDelete;</span></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Food.OnInsert </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> FoodOnInsert;</span></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Player.OnInsert </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> PlayerOnInsert;</span></span>
<span class="line"><span style="color:#F8F8F2">        conn.Db.Player.OnDelete </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> PlayerOnDelete;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        OnConnected</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">Invoke</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">        // Request all tables</span></span>
<span class="line"><span style="color:#F8F8F2">        Conn.</span><span style="color:#50FA7B">SubscriptionBuilder</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">            .</span><span style="color:#50FA7B">OnApplied</span><span style="color:#F8F8F2">(HandleSubscriptionApplied)</span></span>
<span class="line"><span style="color:#F8F8F2">            .</span><span style="color:#50FA7B">SubscribeToAllTables</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Next add the following implementations for those callbacks to the <code>GameManager</code> class.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> CircleOnInsert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Circle</span><span style="color:#FFB86C;font-style:italic"> insertedValue</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> GetOrCreatePlayer</span><span style="color:#F8F8F2">(insertedValue.PlayerId);</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> entityController </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> PrefabManager.</span><span style="color:#50FA7B">SpawnCircle</span><span style="color:#F8F8F2">(insertedValue, player);</span></span>
<span class="line"><span style="color:#F8F8F2">        Entities.</span><span style="color:#50FA7B">Add</span><span style="color:#F8F8F2">(insertedValue.EntityId, entityController);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> EntityOnUpdate</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#FFB86C;font-style:italic"> oldEntity</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#FFB86C;font-style:italic"> newEntity</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">Entities.</span><span style="color:#50FA7B">TryGetValue</span><span style="color:#F8F8F2">(newEntity.EntityId, </span><span style="color:#FF79C6">out</span><span style="color:#FF79C6"> var</span><span style="color:#F8F8F2"> entityController))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#FF79C6">            return</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">        entityController.</span><span style="color:#50FA7B">OnEntityUpdated</span><span style="color:#F8F8F2">(newEntity);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> EntityOnDelete</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Entity</span><span style="color:#FFB86C;font-style:italic"> oldEntity</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (Entities.</span><span style="color:#50FA7B">Remove</span><span style="color:#F8F8F2">(oldEntity.EntityId, </span><span style="color:#FF79C6">out</span><span style="color:#FF79C6"> var</span><span style="color:#F8F8F2"> entityController))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            entityController.</span><span style="color:#50FA7B">OnDelete</span><span style="color:#F8F8F2">(context);</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> FoodOnInsert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Food</span><span style="color:#FFB86C;font-style:italic"> insertedValue</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> entityController </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> PrefabManager.</span><span style="color:#50FA7B">SpawnFood</span><span style="color:#F8F8F2">(insertedValue);</span></span>
<span class="line"><span style="color:#F8F8F2">        Entities.</span><span style="color:#50FA7B">Add</span><span style="color:#F8F8F2">(insertedValue.EntityId, entityController);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> PlayerOnInsert</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Player</span><span style="color:#FFB86C;font-style:italic"> insertedPlayer</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#50FA7B">        GetOrCreatePlayer</span><span style="color:#F8F8F2">(insertedPlayer.PlayerId);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> PlayerOnDelete</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">EventContext</span><span style="color:#FFB86C;font-style:italic"> context</span><span style="color:#F8F8F2">, </span><span style="color:#8BE9FD;font-style:italic">Player</span><span style="color:#FFB86C;font-style:italic"> deletedvalue</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (Players.</span><span style="color:#50FA7B">Remove</span><span style="color:#F8F8F2">(deletedvalue.PlayerId, </span><span style="color:#FF79C6">out</span><span style="color:#FF79C6"> var</span><span style="color:#F8F8F2"> playerController))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#F8F8F2">            GameObject.</span><span style="color:#50FA7B">Destroy</span><span style="color:#F8F8F2">(playerController.gameObject);</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> static</span><span style="color:#8BE9FD;font-style:italic"> PlayerController</span><span style="color:#50FA7B"> GetOrCreatePlayer</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">uint</span><span style="color:#FFB86C;font-style:italic"> playerId</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">Players.</span><span style="color:#50FA7B">TryGetValue</span><span style="color:#F8F8F2">(playerId, </span><span style="color:#FF79C6">out</span><span style="color:#FF79C6"> var</span><span style="color:#F8F8F2"> playerController))</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#FF79C6">            var</span><span style="color:#F8F8F2"> player </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Conn.Db.Player.PlayerId.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(playerId);</span></span>
<span class="line"><span style="color:#F8F8F2">            playerController </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> PrefabManager.</span><span style="color:#50FA7B">SpawnPlayer</span><span style="color:#F8F8F2">(player);</span></span>
<span class="line"><span style="color:#F8F8F2">            Players.</span><span style="color:#50FA7B">Add</span><span style="color:#F8F8F2">(playerId, playerController);</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#F8F8F2"> playerController;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><h4 id="camera-controller">Camera Controller<a href="#camera-controller" class="permalink"><span class="visually-hidden"></span></a></h4><p>One of the last steps is to create a camera controller to make sure the camera moves around with the player. Create a script called <code>CameraController.cs</code> and add it to your project. Replace the contents of the file with this:</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> System</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Collections</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Generic</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">using</span><span style="color:#8BE9FD;font-style:italic"> UnityEngine</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">public</span><span style="color:#FF79C6"> class</span><span style="color:#8BE9FD"> CameraController</span><span style="color:#F8F8F2"> : </span><span style="color:#8BE9FD;font-style:italic">MonoBehaviour</span></span>
<span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#FF79C6">    public</span><span style="color:#FF79C6"> static</span><span style="color:#FF79C6"> float</span><span style="color:#F8F8F2"> WorldSize </span><span style="color:#FF79C6">=</span><span style="color:#BD93F9"> 0.0f</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> LateUpdate</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> arenaCenterTransform </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span><span style="color:#F8F8F2">(WorldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, WorldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">-</span><span style="color:#BD93F9">10.0f</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (PlayerController.Local </span><span style="color:#FF79C6">==</span><span style="color:#BD93F9"> null</span><span style="color:#FF79C6"> ||</span><span style="color:#FF79C6"> !</span><span style="color:#F8F8F2">GameManager.</span><span style="color:#50FA7B">IsConnected</span><span style="color:#F8F8F2">())</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#6272A4">            // Set the camera to be in middle of the arena if we are not connected or </span></span>
<span class="line"><span style="color:#6272A4">            // there is no local player</span></span>
<span class="line"><span style="color:#F8F8F2">            transform.position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> arenaCenterTransform;</span></span>
<span class="line"><span style="color:#FF79C6">            return</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> centerOfMass </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> PlayerController.Local.</span><span style="color:#50FA7B">CenterOfMass</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#FF79C6">        if</span><span style="color:#F8F8F2"> (centerOfMass.HasValue)</span></span>
<span class="line"><span style="color:#F8F8F2">        {</span></span>
<span class="line"><span style="color:#6272A4">            // Set the camera to be the center of mass of the local player</span></span>
<span class="line"><span style="color:#6272A4">            // if the local player has one</span></span>
<span class="line"><span style="color:#F8F8F2">            transform.position </span><span style="color:#FF79C6">=</span><span style="color:#FF79C6"> new</span><span style="color:#8BE9FD;font-style:italic"> Vector3</span></span>
<span class="line"><span style="color:#F8F8F2">            {</span></span>
<span class="line"><span style="color:#F8F8F2">                x </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> centerOfMass.Value.x,</span></span>
<span class="line"><span style="color:#F8F8F2">                y </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> centerOfMass.Value.y,</span></span>
<span class="line"><span style="color:#F8F8F2">                z </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> transform.position.z</span></span>
<span class="line"><span style="color:#F8F8F2">            };</span></span>
<span class="line"><span style="color:#F8F8F2">        } </span><span style="color:#FF79C6">else</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">            transform.position </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> arenaCenterTransform;</span></span>
<span class="line"><span style="color:#F8F8F2">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">		float</span><span style="color:#F8F8F2"> targetCameraSize </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> CalculateCameraSize</span><span style="color:#F8F8F2">(PlayerController.Local);</span></span>
<span class="line"><span style="color:#F8F8F2">		Camera.main.orthographicSize </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Mathf.</span><span style="color:#50FA7B">Lerp</span><span style="color:#F8F8F2">(Camera.main.orthographicSize, targetCameraSize, Time.deltaTime </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">	private</span><span style="color:#FF79C6"> float</span><span style="color:#50FA7B"> CalculateCameraSize</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">PlayerController</span><span style="color:#FFB86C;font-style:italic"> player</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">	{</span></span>
<span class="line"><span style="color:#FF79C6">		return</span><span style="color:#BD93F9"> 50f</span><span style="color:#FF79C6"> +</span><span style="color:#6272A4"> //Base size</span></span>
<span class="line"><span style="color:#F8F8F2">            Mathf.</span><span style="color:#50FA7B">Min</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">50</span><span style="color:#F8F8F2">, player.</span><span style="color:#50FA7B">TotalMass</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 5</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">+</span><span style="color:#6272A4"> //Increase camera size with mass</span></span>
<span class="line"><span style="color:#F8F8F2">            Mathf.</span><span style="color:#50FA7B">Min</span><span style="color:#F8F8F2">(player.NumberOfOwnedCircles </span><span style="color:#FF79C6">-</span><span style="color:#BD93F9"> 1</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 30</span><span style="color:#F8F8F2">; </span><span style="color:#6272A4">//Zoom out when player splits</span></span>
<span class="line"><span style="color:#F8F8F2">	}</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>Add the <code>CameraController</code> as a component to the <code>Main Camera</code> object in the scene.</p>
<p>Lastly modify the <code>GameManager.SetupArena</code> method to set the <code>WorldSize</code> on the <code>CameraController</code>.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> SetupArena</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">float</span><span style="color:#FFB86C;font-style:italic"> worldSize</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, borderThickness)); </span><span style="color:#6272A4">//North</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2">borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">, borderThickness)); </span><span style="color:#6272A4">//South</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(borderThickness, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">)); </span><span style="color:#6272A4">//East</span></span>
<span class="line"><span style="color:#50FA7B">        CreateBorderCube</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6">-</span><span style="color:#F8F8F2">borderThickness </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2</span><span style="color:#F8F8F2">, worldSize </span><span style="color:#FF79C6">/</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">),</span></span>
<span class="line"><span style="color:#FF79C6">            new</span><span style="color:#8BE9FD;font-style:italic"> Vector2</span><span style="color:#F8F8F2">(borderThickness, worldSize </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> borderThickness </span><span style="color:#FF79C6">*</span><span style="color:#BD93F9"> 2.0f</span><span style="color:#F8F8F2">)); </span><span style="color:#6272A4">//West</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">        // Set the world size for the camera controller</span></span>
<span class="line"><span style="color:#F8F8F2">        CameraController.WorldSize </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> worldSize;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><h4 id="entering-the-game">Entering the Game<a href="#entering-the-game" class="permalink"><span class="visually-hidden"></span></a></h4>
        <div class="lang-group">
            <div class="lang-tabs">
                <span class="lang-tabs-title"></span>
                <button class="tab-btn" data-lang="Rust">Rust</button><button class="tab-btn" data-lang="C#">C#</button>
            </div>
            
            <div class="lang-block" data-lang="Rust">
                <p>At this point, you may need to regenerate your bindings the following command from the <code>server-rust</code> directory.</p>

            </div>
            <div class="lang-block" data-lang="C#">
                <p>At this point, you may need to regenerate your bindings the following command from the <code>server-csharp</code> directory.</p>

            </div>
        </div>
        
<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#50FA7B">spacetime</span><span style="color:#F1FA8C"> generate</span><span style="color:#BD93F9"> --lang</span><span style="color:#F1FA8C"> csharp</span><span style="color:#BD93F9"> --out-dir</span><span style="color:#F1FA8C"> ../client-unity/Assets/autogen</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><p>The last step is to call the <code>enter_game</code> reducer on the server, passing in a username for our player, which will spawn a circle for our player. For the sake of simplicity, let&#39;s call the <code>enter_game</code> reducer from the <code>HandleSubscriptionApplied</code> callback with the name &quot;3Blave&quot;.</p>

<pre class="shiki spacetime-dark" style="background-color:var(--color-bg);color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#FF79C6">    private</span><span style="color:#FF79C6"> void</span><span style="color:#50FA7B"> HandleSubscriptionApplied</span><span style="color:#F8F8F2">(</span><span style="color:#8BE9FD;font-style:italic">SubscriptionEventContext</span><span style="color:#FFB86C;font-style:italic"> ctx</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">    {</span></span>
<span class="line"><span style="color:#F8F8F2">        Debug.</span><span style="color:#50FA7B">Log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">Subscription applied!</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        OnSubscriptionApplied</span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">Invoke</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">        // Once we have the initial subscription sync'd to the client cache</span></span>
<span class="line"><span style="color:#6272A4">        // Get the world size from the config table and set up the arena</span></span>
<span class="line"><span style="color:#FF79C6">        var</span><span style="color:#F8F8F2"> worldSize </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Conn.Db.Config.Id.</span><span style="color:#50FA7B">Find</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">).WorldSize;</span></span>
<span class="line"><span style="color:#50FA7B">        SetupArena</span><span style="color:#F8F8F2">(worldSize);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">        // Call enter game with the player name 3Blave</span></span>
<span class="line"><span style="color:#F8F8F2">        ctx.Reducers.</span><span style="color:#50FA7B">EnterGame</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">3Blave</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span></code> <button data-copy-code>
    <svg
        class="md-copy-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
    >
        <g fill="white">
            <path d="M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z" />
            <path d="M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z" />
        </g>
    </svg>
</button></pre><h4 id="trying-it-out">Trying it out<a href="#trying-it-out" class="permalink"><span class="visually-hidden"></span></a></h4><p>At this point, after publishing our module we can press the play button to see the fruits of our labor! You should be able to see your player&#39;s circle, with its username label, surrounded by food.</p>
<!-- ![Player on screen](part-3-player-on-screen.png) -->

<blockquote class="blockquote-md">
    <div class="top">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="256"
            height="256"
            viewBox="0 0 256 256"
        >
            <path
                fill="white"
                d="M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z"
            />
        </svg>
        <p class="blockquote-p">Note</p>
    </div>
    <div><p>The label won&#39;t be centered at this point. Feel free to adjust it if you like. We just didn&#39;t want to complicate the tutorial.</p></div>
</blockquote>
<h4 id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="permalink"><span class="visually-hidden"></span></a></h4><ul>
<li><p>If you get an error when running the generate command, make sure you have an empty subfolder in your Unity project Assets folder called <code>autogen</code></p>
</li>
<li><p>If you get an error in your Unity console when starting the game, double check that you have published your module and you have the correct module name specified in your <code>GameManager</code>.</p>
</li>
</ul>
<h4 id="next-steps">Next Steps<a href="#next-steps" class="permalink"><span class="visually-hidden"></span></a></h4><p>It&#39;s pretty cool to see our player in game surrounded by food, but there&#39;s a problem! We can&#39;t move yet. In the next part, we&#39;ll explore how to get your player moving and interacting with food and other objects.</p>
</article></div><div class="WT-eTq_bottomDocContent"><div class="WT-eTq_actions"><a class="WT-eTq_prev" data-discover="true" href="part-2.html"><p class="WT-eTq_sub">Previous</p><p class="WT-eTq_title">2 - Connecting to SpacetimeDB</p></a><a class="WT-eTq_next" data-discover="true" href="part-4.html"><p class="WT-eTq_sub">Next</p><p class="WT-eTq_title">4 - Moving and Colliding</p></a></div></div><a class="WT-eTq_githubEditStyled" rel="noreferrer" href="https://github.com/clockworklabs/spacetime-docs/edit/master/docs/unity/part-3.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="white" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"></path></svg>Edit On Github</a></div></div></div><!--$--><!--/$--></div></div><script>((STORAGE_KEY, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({
        key
      }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(STORAGE_KEY) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(STORAGE_KEY);
    }
  })("positions", null)</script><link rel="modulepreload" href="../../assets/entry.client-BGtfi_QV.js"/><link rel="modulepreload" href="../../assets/jsx-runtime-B8m6gtXl.js"/><link rel="modulepreload" href="../../assets/index-Gwz8MVWd.js"/><link rel="modulepreload" href="../../assets/index-DQRDp3BA.js"/><link rel="modulepreload" href="../../assets/components-DZQBhqap.js"/><link rel="modulepreload" href="../../assets/index-BtvcE26l.js"/><link rel="modulepreload" href="../../assets/Layout-BdLUilQM.js"/><link rel="modulepreload" href="../../assets/preload-helper-D21cck6N.js"/><link rel="modulepreload" href="../../assets/client-only-wNC5TimA.js"/><link rel="modulepreload" href="../../assets/Container-DsvKPwib.js"/><link rel="modulepreload" href="../../assets/clsx-BeLtu-UY.js"/><link rel="modulepreload" href="../../assets/Icon-mnw7YCvf.js"/><link rel="modulepreload" href="../../assets/socials-pIkfUSDw.js"/><link rel="modulepreload" href="../../assets/index-ZcNkxdux.js"/><link rel="modulepreload" href="../../assets/Button-BsQzyESB.js"/><link rel="modulepreload" href="../../assets/root-B5VLWL4p.js"/><link rel="modulepreload" href="../../assets/route-BN3e8Fjz.js"/><link rel="modulepreload" href="../../assets/ScrollAnimation-CzbpuesT.js"/><link rel="modulepreload" href="../../assets/route-DJZPQN6P.js"/><link rel="modulepreload" href="../../assets/route-Xb11ex6F.js"/><link rel="modulepreload" href="../../assets/MDComponent-S1Ei_Xtk.js"/><link rel="modulepreload" href="../../assets/route-BsjcODbm.js"/><script>window.__remixContext = {"basename":"/","future":{"v3_fetcherPersist":true,"v3_relativeSplatPath":true,"v3_throwAbortReason":true,"v3_routeConfig":true,"v3_singleFetch":true,"v3_lazyRouteDiscovery":true,"unstable_optimizeDeps":true},"isSpaMode":false};window.__remixContext.stream = new ReadableStream({start(controller){window.__remixContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">;
import * as route0 from "/assets/root-B5VLWL4p.js";
import * as route1 from "/assets/route-BN3e8Fjz.js";
import * as route2 from "/assets/route-DJZPQN6P.js";
import * as route3 from "/assets/route-BsjcODbm.js";
window.__remixManifest = {
  "entry": {
    "module": "/assets/entry.client-BGtfi_QV.js",
    "imports": [
      "/assets/jsx-runtime-B8m6gtXl.js",
      "../../assets/index-Gwz8MVWd.js",
      "../../assets/index-DQRDp3BA.js",
      "../../assets/components-DZQBhqap.js"
    ],
    "css": []
  },
  "routes": {
    "root": {
      "id": "root",
      "path": "",
      "hasAction": false,
      "hasLoader": true,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": true,
      "module": "/assets/root-B5VLWL4p.js",
      "imports": [
        "/assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/index-Gwz8MVWd.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/index-BtvcE26l.js",
        "../../assets/Layout-BdLUilQM.js",
        "../../assets/preload-helper-D21cck6N.js",
        "../../assets/client-only-wNC5TimA.js",
        "../../assets/Container-DsvKPwib.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/Icon-mnw7YCvf.js",
        "../../assets/socials-pIkfUSDw.js",
        "../../assets/index-ZcNkxdux.js",
        "../../assets/Button-BsQzyESB.js"
      ],
      "css": [
        "/assets/root-DgiNzMOf.css",
        "../../assets/Layout-CTL7f1Hd.css",
        "../../assets/Container-_6nMI5g_.css",
        "../../assets/Button-C8_kLgtz.css"
      ]
    },
    "routes/_marketing": {
      "id": "routes/_marketing",
      "parentId": "root",
      "hasAction": false,
      "hasLoader": false,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": false,
      "module": "/assets/route-BN3e8Fjz.js",
      "imports": [
        "/assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/Layout-BdLUilQM.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/preload-helper-D21cck6N.js",
        "../../assets/client-only-wNC5TimA.js",
        "../../assets/Container-DsvKPwib.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/Icon-mnw7YCvf.js",
        "../../assets/socials-pIkfUSDw.js",
        "../../assets/index-ZcNkxdux.js",
        "../../assets/Button-BsQzyESB.js",
        "../../assets/index-Gwz8MVWd.js"
      ],
      "css": [
        "/assets/Layout-CTL7f1Hd.css",
        "../../assets/Container-_6nMI5g_.css",
        "../../assets/Button-C8_kLgtz.css"
      ]
    },
    "routes/_marketing.docs": {
      "id": "routes/_marketing.docs",
      "parentId": "routes/_marketing",
      "path": "docs",
      "hasAction": false,
      "hasLoader": true,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": false,
      "module": "/assets/route-DJZPQN6P.js",
      "imports": [
        "/assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/ScrollAnimation-CzbpuesT.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/index-ZcNkxdux.js",
        "../../assets/index-Gwz8MVWd.js"
      ],
      "css": [
        "/assets/route-DfbkRanz.css",
        "../../assets/ScrollAnimation-HNI5Nioi.css"
      ]
    },
    "routes/_marketing.docs.$": {
      "id": "routes/_marketing.docs.$",
      "parentId": "routes/_marketing.docs",
      "path": "*",
      "hasAction": false,
      "hasLoader": true,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": false,
      "module": "/assets/route-BsjcODbm.js",
      "imports": [
        "/assets/route-Xb11ex6F.js",
        "../../assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/MDComponent-S1Ei_Xtk.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/index-BtvcE26l.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/index-Gwz8MVWd.js"
      ],
      "css": [
        "/assets/route-DPGvI9WQ.css",
        "../../assets/MDComponent-CdQtYgZs.css"
      ]
    },
    "routes/_marketing._index": {
      "id": "routes/_marketing._index",
      "parentId": "routes/_marketing",
      "index": true,
      "hasAction": false,
      "hasLoader": true,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": false,
      "module": "/assets/route-D1GAktaa.js",
      "imports": [
        "/assets/route-BjgmKHBp.js",
        "../../assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/ScrollAnimation-CzbpuesT.js",
        "../../assets/index-ZcNkxdux.js",
        "../../assets/Section-YFQuzqA2.js",
        "../../assets/Button-BsQzyESB.js",
        "../../assets/Icon-mnw7YCvf.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/index-Gwz8MVWd.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/Modal-Drq6A6PB.js",
        "../../assets/preload-helper-D21cck6N.js",
        "../../assets/IllustrationSection-CYB1aQb8.js",
        "../../assets/Hero-CQn9OGBR.js"
      ],
      "css": [
        "/assets/route-BD-0frUD.css",
        "../../assets/ScrollAnimation-HNI5Nioi.css",
        "../../assets/Section-BU2yo9B_.css",
        "../../assets/Button-C8_kLgtz.css",
        "../../assets/Modal-4Y8efbdF.css",
        "../../assets/IllustrationSection-Ce9CQF80.css",
        "../../assets/Hero-BQ6ieBxK.css"
      ]
    },
    "routes/_marketing.docs._index": {
      "id": "routes/_marketing.docs._index",
      "parentId": "routes/_marketing.docs",
      "index": true,
      "hasAction": false,
      "hasLoader": true,
      "hasClientAction": false,
      "hasClientLoader": false,
      "hasErrorBoundary": false,
      "module": "/assets/route-Xb11ex6F.js",
      "imports": [
        "/assets/jsx-runtime-B8m6gtXl.js",
        "../../assets/MDComponent-S1Ei_Xtk.js",
        "../../assets/components-DZQBhqap.js",
        "../../assets/clsx-BeLtu-UY.js",
        "../../assets/index-BtvcE26l.js",
        "../../assets/index-DQRDp3BA.js",
        "../../assets/index-Gwz8MVWd.js"
      ],
      "css": [
        "/assets/route-DPGvI9WQ.css",
        "../../assets/MDComponent-CdQtYgZs.css"
      ]
    }
  },
  "url": "/assets/manifest-81d72d9d.js",
  "version": "81d72d9d"
};
window.__remixRouteModules = {"root":route0,"routes/_marketing":route1,"routes/_marketing.docs":route2,"routes/_marketing.docs.$":route3};

import("../../assets/entry.client-BGtfi_QV.js");</script><script class="cookieconsent-optin-statistics" data-cookieconsent="statistics">
                        window.dataLayer = window.dataLayer || [];
                        function gtag(){ dataLayer.push(arguments); }
                        gtag('js', new Date());
                        gtag('config', 'G-PP0E4VHQKG');
                        </script><script src="../../../uptime.betterstack.com/widgets/announcement.js" data-id="167677" defer="" type="text/javascript"></script></body>
<!-- Mirrored from spacetimedb.com/docs/unity/part-3 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 May 2025 02:58:43 GMT -->
</html><!--$--><script>window.__remixContext.streamController.enqueue("[{\"_1\":2,\"_187\":-5,\"_188\":-5},\"loaderData\",{\"_3\":4,\"_10\":11,\"_176\":177,\"_186\":-5},\"root\",{\"_5\":6,\"_7\":8,\"_9\":-7},\"stargazersCount\",15876,\"isAnnouncementVisible\",true,\"sessionUserInfo\",\"routes/_marketing.docs\",{\"_12\":13,\"_174\":175},\"nav\",{\"_14\":15},\"items\",[16,21,28,32,34,38,42,44,47,51,55,59,63,65,68,72,74,77,81,85,89,93,95,98,101,104,107,110,114,118,120,124,126,130,132,135,137,141,143,147,151,155,157,161,165,169,171],{\"_17\":18,\"_19\":20},\"type\",\"section\",\"title\",\"Intro\",{\"_17\":22,\"_23\":24,\"_25\":26,\"_19\":27},\"page\",\"path\",\"index.md\",\"slug\",\"index\",\"Overview\",{\"_17\":22,\"_23\":29,\"_25\":30,\"_19\":31},\"getting-started.md\",\"getting-started\",\"Getting Started\",{\"_17\":18,\"_19\":33},\"Deploying\",{\"_17\":22,\"_23\":35,\"_25\":36,\"_19\":37},\"deploying/maincloud.md\",\"deploying/maincloud\",\"Maincloud\",{\"_17\":22,\"_23\":39,\"_25\":40,\"_19\":41},\"deploying/spacetimedb-standalone.md\",\"deploying/spacetimedb-standalone\",\"Self-Hosting SpacetimeDB\",{\"_17\":18,\"_19\":43},\"Unity Tutorial - Basic Multiplayer\",{\"_17\":22,\"_23\":45,\"_25\":46,\"_19\":27},\"unity/index.md\",\"unity\",{\"_17\":22,\"_23\":48,\"_25\":49,\"_19\":50},\"unity/part-1.md\",\"unity/part-1\",\"1 - Setup\",{\"_17\":22,\"_23\":52,\"_25\":53,\"_19\":54},\"unity/part-2.md\",\"unity/part-2\",\"2 - Connecting to SpacetimeDB\",{\"_17\":22,\"_23\":56,\"_25\":57,\"_19\":58},\"unity/part-3.md\",\"unity/part-3\",\"3 - Gameplay\",{\"_17\":22,\"_23\":60,\"_25\":61,\"_19\":62},\"unity/part-4.md\",\"unity/part-4\",\"4 - Moving and Colliding\",{\"_17\":18,\"_19\":64},\"CLI Reference\",{\"_17\":22,\"_23\":66,\"_25\":67,\"_19\":64},\"cli-reference.md\",\"cli-reference\",{\"_17\":22,\"_23\":69,\"_25\":70,\"_19\":71},\"cli-reference/standalone-config.md\",\"cli-reference/standalone-config\",\"SpacetimeDB Standalone Configuration\",{\"_17\":18,\"_19\":73},\"Server Module Languages\",{\"_17\":22,\"_23\":75,\"_25\":76,\"_19\":27},\"modules/index.md\",\"modules\",{\"_17\":22,\"_23\":78,\"_25\":79,\"_19\":80},\"modules/rust/quickstart.md\",\"modules/rust/quickstart\",\"Rust Quickstart\",{\"_17\":22,\"_23\":82,\"_25\":83,\"_19\":84},\"modules/rust/index.md\",\"modules/rust\",\"Rust Reference\",{\"_17\":22,\"_23\":86,\"_25\":87,\"_19\":88},\"modules/c-sharp/quickstart.md\",\"modules/c-sharp/quickstart\",\"C# Quickstart\",{\"_17\":22,\"_23\":90,\"_25\":91,\"_19\":92},\"modules/c-sharp/index.md\",\"modules/c-sharp\",\"C# Reference\",{\"_17\":18,\"_19\":94},\"Client SDK Languages\",{\"_17\":22,\"_23\":96,\"_25\":97,\"_19\":27},\"sdks/index.md\",\"sdks\",{\"_17\":22,\"_23\":99,\"_25\":100,\"_19\":88},\"sdks/c-sharp/quickstart.md\",\"sdks/c-sharp/quickstart\",{\"_17\":22,\"_23\":102,\"_25\":103,\"_19\":92},\"sdks/c-sharp/index.md\",\"sdks/c-sharp\",{\"_17\":22,\"_23\":105,\"_25\":106,\"_19\":80},\"sdks/rust/quickstart.md\",\"sdks/rust/quickstart\",{\"_17\":22,\"_23\":108,\"_25\":109,\"_19\":84},\"sdks/rust/index.md\",\"sdks/rust\",{\"_17\":22,\"_23\":111,\"_25\":112,\"_19\":113},\"sdks/typescript/quickstart.md\",\"sdks/typescript/quickstart\",\"TypeScript Quickstart\",{\"_17\":22,\"_23\":115,\"_25\":116,\"_19\":117},\"sdks/typescript/index.md\",\"sdks/typescript\",\"TypeScript Reference\",{\"_17\":18,\"_19\":119},\"SQL\",{\"_17\":22,\"_23\":121,\"_25\":122,\"_19\":123},\"sql/index.md\",\"sql\",\"SQL Reference\",{\"_17\":18,\"_19\":125},\"Subscriptions\",{\"_17\":22,\"_23\":127,\"_25\":128,\"_19\":129},\"subscriptions/index.md\",\"subscriptions\",\"Subscription Reference\",{\"_17\":18,\"_19\":131},\"Row Level Security\",{\"_17\":22,\"_23\":133,\"_25\":134,\"_19\":131},\"rls/index.md\",\"rls\",{\"_17\":18,\"_19\":136},\"How To\",{\"_17\":22,\"_23\":138,\"_25\":139,\"_19\":140},\"how-to/incremental-migrations.md\",\"how-to/incremental-migrations\",\"Incremental Migrations\",{\"_17\":18,\"_19\":142},\"HTTP API\",{\"_17\":22,\"_23\":144,\"_25\":145,\"_19\":146},\"http/authorization.md\",\"http/authorization\",\"Authorization\",{\"_17\":22,\"_23\":148,\"_25\":149,\"_19\":150},\"http/identity.md\",\"http/identity\",\"`/identity`\",{\"_17\":22,\"_23\":152,\"_25\":153,\"_19\":154},\"http/database.md\",\"http/database\",\"`/database`\",{\"_17\":18,\"_19\":156},\"Internals\",{\"_17\":22,\"_23\":158,\"_25\":159,\"_19\":160},\"webassembly-abi/index.md\",\"webassembly-abi\",\"Module ABI Reference\",{\"_17\":22,\"_23\":162,\"_25\":163,\"_19\":164},\"sats-json.md\",\"sats-json\",\"SATS-JSON Data Format\",{\"_17\":22,\"_23\":166,\"_25\":167,\"_19\":168},\"bsatn.md\",\"bsatn\",\"BSATN Data Format\",{\"_17\":18,\"_19\":170},\"Appendix\",{\"_17\":22,\"_23\":172,\"_25\":173,\"_19\":170},\"appendix.md\",\"appendix\",\"rootEditURL\",\"https://github.com/clockworklabs/spacetime-docs/edit/master/docs\",\"routes/_marketing.docs.$\",{\"_178\":179,\"_180\":181,\"_182\":183,\"_184\":185},\"content\",\"\u003ch2 id=\\\"unity-tutorial---part-3---gameplay\\\"\u003eUnity Tutorial - Part 3 - Gameplay\u003ca href=\\\"#unity-tutorial---part-3---gameplay\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eNeed help with the tutorial? \u003ca href=\\\"https://discord.gg/spacetimedb\\\"\u003eJoin our Discord server\u003c/a\u003e!\u003c/p\u003e\\n\u003cp\u003eThis progressive tutorial is continued from \u003ca href=\\\"/docs/unity/part-2\\\"\u003epart 2\u003c/a\u003e.\u003c/p\u003e\\n\u003ch4 id=\\\"spawning-food\\\"\u003eSpawning Food\u003ca href=\\\"#spawning-food\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eLet\u0026#39;s start by spawning food into the map. The first thing we need to do is create a new, special reducer called the \u003ccode\u003einit\u003c/code\u003e reducer. SpacetimeDB calls the \u003ccode\u003einit\u003c/code\u003e reducer automatically when first publish your module, and also after any time you run with \u003ccode\u003epublish --delete-data\u003c/code\u003e. It gives you an opportunity to initialize the state of your database before any clients connect.\u003c/p\u003e\\n\u003cp\u003eAdd this new reducer above our \u003ccode\u003econnect\u003c/code\u003e reducer.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// Note the `init` parameter passed to the reducer macro.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// That indicates to SpacetimeDB that it should be called\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// once upon database creation.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer(init)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e init\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einfo!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Initializing...\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eConfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        world_size\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThis reducer also demonstrates how to insert new rows into a table. Here we are adding a single \u003ccode\u003eConfig\u003c/code\u003e row to the \u003ccode\u003econfig\u003c/code\u003e table with the \u003ccode\u003etry_insert\u003c/code\u003e function. \u003ccode\u003etry_insert\u003c/code\u003e returns an error if inserting the row into the table would violate any constraints, like unique constraints, on the table. You can also use \u003ccode\u003einsert\u003c/code\u003e which panics on constraint violations if you know for sure that you will not violate any constraints.\u003c/p\u003e\\n\u003cp\u003eNow that we\u0026#39;ve ensured that our database always has a valid \u003ccode\u003eworld_size\u003c/code\u003e let\u0026#39;s spawn some food into the map. Add the following code to the end of the file.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e FOOD_MASS_MIN\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e FOOD_MASS_MAX\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 4\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e TARGET_FOOD_COUNT\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e usize\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 600\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e mass_to_radius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(mass\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    (mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003esqrt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e spawn_food\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ecount\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Are there no logged in players? Skip food spawn.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eid\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eok_or\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Config not found\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eworld_size;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e mut\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003erng\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e mut\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ecount\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    while\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e TARGET_FOOD_COUNT\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e as\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u64\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003egen_range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003eFOOD_MASS_MIN\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e..\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003eFOOD_MASS_MAX\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e mass_to_radius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e x \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003egen_range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_radius\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e..\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eworld_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e y \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003egen_range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_radius\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e..\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eworld_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            entity_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            position\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e { x, y },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            mass\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_mass,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eFood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            entity_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        food_count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einfo!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Spawned food! {}\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, entity\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eLet\u0026#39;s start by spawning food into the map. The first thing we need to do is create a new, special reducer called the \u003ccode\u003eInit\u003c/code\u003e reducer. SpacetimeDB calls the \u003ccode\u003eInit\u003c/code\u003e reducer automatically when you first publish your module, and also after any time you run with \u003ccode\u003epublish --delete-data\u003c/code\u003e. It gives you an opportunity to initialize the state of your database before any clients connect.\u003c/p\u003e\\n\u003cp\u003eAdd this new reducer above our \u003ccode\u003eConnect\u003c/code\u003e reducer.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// Note the `init` parameter passed to the reducer macro.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// That indicates to SpacetimeDB that it should be called\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e// once upon database creation.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ReducerKind.Init)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Init\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    Log.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInfo\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e$\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eInitializing...\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.config.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Config\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e { world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThis reducer also demonstrates how to insert new rows into a table. Here we are adding a single \u003ccode\u003eConfig\u003c/code\u003e row to the \u003ccode\u003econfig\u003c/code\u003e table with the \u003ccode\u003eInsert\u003c/code\u003e function.\u003c/p\u003e\\n\u003cp\u003eNow that we\u0026#39;ve ensured that our database always has a valid \u003ccode\u003eworld_size\u003c/code\u003e let\u0026#39;s spawn some food into the map. Add the following code to the end of the \u003ccode\u003eModule\u003c/code\u003e class.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e FOOD_MASS_MIN \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e FOOD_MASS_MAX \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 4\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e TARGET_FOOD_COUNT \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 600\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToRadius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e mass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e MathF.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSqrt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnFood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (ctx.Db.player.Count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//Are there no players yet?\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (ctx.Db.config.id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eConfig not found\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)).world_size;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Rng;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.food.Count;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    while\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (food_count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e TARGET_FOOD_COUNT)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRange\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(FOOD_MASS_MIN, FOOD_MASS_MAX);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToRadius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e x \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRange\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_radius, world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e y \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRange\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food_radius, world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.entity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Entity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(x, y),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e food_mass,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.food.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Food\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            entity_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity.entity_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        food_count\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e++\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Log.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInfo\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e$\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eSpawned food! \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ethis\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Random\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efloat\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e min\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efloat\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e max\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eNextSingle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (max \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e min) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e min;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ethis\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Random\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e min\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e max\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eNextInt64\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(min, max);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eIn this reducer, we are using the \u003ccode\u003eworld_size\u003c/code\u003e we configured along with the \u003ccode\u003eReducerContext\u003c/code\u003e\u0026#39;s random number generator \u003ccode\u003e.rng()\u003c/code\u003e function to place 600 food uniformly randomly throughout the map. We\u0026#39;ve also chosen the \u003ccode\u003emass\u003c/code\u003e of the food to be a random number between 2 and 4 inclusive.\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eWe also added two helper functions so we can get a random range as either a \u003ccode\u003euint\u003c/code\u003e or a \u003ccode\u003efloat\u003c/code\u003e.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eAlthough, we\u0026#39;ve written the reducer to spawn food, no food will actually be spawned until we call the function while players are logged in. This raises the question, who should call this function and when?\u003c/p\u003e\\n\u003cp\u003eWe would like for this function to be called periodically to \u0026quot;top up\u0026quot; the amount of food on the map so that it never falls very far below our target amount of food. SpacetimeDB has built in functionality for exactly this. With SpacetimeDB you can schedule your module to call itself in the future or repeatedly with reducers.\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eIn order to schedule a reducer to be called we have to create a new table which specifies when and how a reducer should be called. Add this new table to the top of the file, below your imports.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003etable(name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e spawn_food_timer, scheduled(spawn_food))]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e struct\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpawnFoodTimer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    #[primary_key]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    #[auto_inc]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    scheduled_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u64\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    scheduled_at\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eScheduleAt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eNote the \u003ccode\u003escheduled(spawn_food)\u003c/code\u003e parameter in the table macro. This tells SpacetimeDB that the rows in this table specify a schedule for when the \u003ccode\u003espawn_food\u003c/code\u003e reducer should be called. Each scheduled table requires a \u003ccode\u003escheduled_id\u003c/code\u003e and a \u003ccode\u003escheduled_at\u003c/code\u003e field so that SpacetimeDB can call your reducer, however you can also add your own fields to these rows as well.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eIn order to schedule a reducer to be called we have to create a new table which specifies when an how a reducer should be called. Add this new table to the top of the \u003ccode\u003eModule\u003c/code\u003e class.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTable\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003espawn_food_timer\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, Scheduled \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e nameof\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(SpawnFood), ScheduledAt \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e nameof\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(scheduled_at))]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e partial\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e struct\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpawnFoodTimer\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    [\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePrimaryKey\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eAutoInc\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e ulong\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e scheduled_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e ScheduleAt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e scheduled_at;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eNote the \u003ccode\u003eScheduled = nameof(SpawnFood)\u003c/code\u003e parameter in the table macro. This tells SpacetimeDB that the rows in this table specify a schedule for when the \u003ccode\u003eSpawnFood\u003c/code\u003e reducer should be called. Each scheduled table requires a \u003ccode\u003escheduled_id\u003c/code\u003e and a \u003ccode\u003escheduled_at\u003c/code\u003e field so that SpacetimeDB can call your reducer, however you can also add your own fields to these rows as well.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eYou can create, delete, or change a schedule by inserting, deleting, or updating rows in this table. \u003c/p\u003e\\n\u003cp\u003eYou will see an error telling you that the \u003ccode\u003espawn_food\u003c/code\u003e reducer needs to take two arguments, but currently only takes one. This is because the schedule row must be passed in to all scheduled reducers. Modify your \u003ccode\u003espawn_food\u003c/code\u003e reducer to take the scheduled row as an argument.\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e spawn_food\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, _timer\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpawnFoodTimer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e    // ...\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnFood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSpawnFoodTimer\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e _timer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e    // ...\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eIn our case we aren\u0026#39;t interested in the data on the row, so we name the argument \u003ccode\u003e_timer\u003c/code\u003e.\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eLet\u0026#39;s modify our \u003ccode\u003einit\u003c/code\u003e reducer to schedule our \u003ccode\u003espawn_food\u003c/code\u003e reducer to be called every 500 milliseconds.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer(init)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e init\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einfo!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Initializing...\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eConfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        world_size\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003espawn_food_timer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSpawnFoodTimer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        scheduled_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        scheduled_at\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ScheduleAt\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInterval\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Duration\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efrom_millis\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e500\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einto\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cblockquote class=\\\"blockquote-md\\\"\u003e\\n    \u003cdiv class=\\\"top\\\"\u003e\\n        \u003csvg\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n            width=\\\"256\\\"\\n            height=\\\"256\\\"\\n            viewBox=\\\"0 0 256 256\\\"\\n        \u003e\\n            \u003cpath\\n                fill=\\\"white\\\"\\n                d=\\\"M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z\\\"\\n            /\u003e\\n        \u003c/svg\u003e\\n        \u003cp class=\\\"blockquote-p\\\"\u003eNote\u003c/p\u003e\\n    \u003c/div\u003e\\n    \u003cdiv\u003e\u003cp\u003eYou can use \u003ccode\u003eScheduleAt::Interval\u003c/code\u003e to schedule a reducer call at an interval like we\u0026#39;re doing here. SpacetimeDB will continue to call the reducer at this interval until you remove the row. You can also use \u003ccode\u003eScheduleAt::Time()\u003c/code\u003e to specify a specific at which to call a reducer once. SpacetimeDB will remove that row automatically after the reducer has been called.\u003c/p\u003e\u003c/div\u003e\\n\u003c/blockquote\u003e\\n\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eLet\u0026#39;s modify our \u003ccode\u003eInit\u003c/code\u003e reducer to schedule our \u003ccode\u003eSpawnFood\u003c/code\u003e reducer to be called every 500 milliseconds.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ReducerKind.Init)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Init\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    Log.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInfo\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e$\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eInitializing...\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.config.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Config\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e { world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.spawn_food_timer.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpawnFoodTimer\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        scheduled_at \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e ScheduleAt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eInterval\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(TimeSpan.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFromMilliseconds\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e500\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cblockquote class=\\\"blockquote-md\\\"\u003e\\n    \u003cdiv class=\\\"top\\\"\u003e\\n        \u003csvg\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n            width=\\\"256\\\"\\n            height=\\\"256\\\"\\n            viewBox=\\\"0 0 256 256\\\"\\n        \u003e\\n            \u003cpath\\n                fill=\\\"white\\\"\\n                d=\\\"M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z\\\"\\n            /\u003e\\n        \u003c/svg\u003e\\n        \u003cp class=\\\"blockquote-p\\\"\u003eNote\u003c/p\u003e\\n    \u003c/div\u003e\\n    \u003cdiv\u003e\u003cp\u003eYou can use \u003ccode\u003eScheduleAt.Interval\u003c/code\u003e to schedule a reducer call at an interval like we\u0026#39;re doing here. SpacetimeDB will continue to call the reducer at this interval until you remove the row. You can also use \u003ccode\u003eScheduleAt.Time()\u003c/code\u003e to specify a specific at which to call a reducer once. SpacetimeDB will remove that row automatically after the reducer has been called.\u003c/p\u003e\u003c/div\u003e\\n\u003c/blockquote\u003e\\n\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003ch4 id=\\\"logging-players-in\\\"\u003eLogging Players In\u003ca href=\\\"#logging-players-in\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eLet\u0026#39;s continue building out our server module by modifying it to log in a player when they connect to the database, or to create a new player if they\u0026#39;ve never connected before.\u003c/p\u003e\\n\u003cp\u003eLet\u0026#39;s add a second table to our \u003ccode\u003ePlayer\u003c/code\u003e struct. Modify the \u003ccode\u003ePlayer\u003c/code\u003e struct by adding this above the struct:\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003etable(name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e logged_out_player)]\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTable\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)]\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eYour struct should now look like this:\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003etable(name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player, public)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003etable(name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e logged_out_player)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[derive(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eDebug\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eClone\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e struct\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    #[primary_key]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    identity\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Identity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    #[unique]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    #[auto_inc]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    player_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    name\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e String\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTable\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, Public \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTable\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e partial\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e struct\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Player\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    [\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePrimaryKey\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Identity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e identity;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    [\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eUnique\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eAutoInc\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eThis line creates an additional tabled called \u003ccode\u003elogged_out_player\u003c/code\u003e whose rows share the same \u003ccode\u003ePlayer\u003c/code\u003e type as in the \u003ccode\u003eplayer\u003c/code\u003e table.\u003c/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eIMPORTANT! Note that this new table is not marked \u003ccode\u003epublic\u003c/code\u003e. This means that it can only be accessed by the database owner (which is almost always the database creator). In order to prevent any unintended data access, all SpacetimeDB tables are private by default.\u003c/p\u003e\\n\u003cp\u003eIf your client isn\u0026#39;t syncing rows from the server, check that your table is not accidentally marked private.\u003c/p\u003e\\n\u003c/blockquote\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eNext, modify your \u003ccode\u003econnect\u003c/code\u003e reducer and add a new \u003ccode\u003edisconnect\u003c/code\u003e reducer below it:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer(client_connected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e connect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e let\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Some\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ectx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eclone\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003edelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eidentity);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    } \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eelse\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            identity\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            player_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            name\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e String\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer(client_disconnected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e disconnect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ectx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eok_or\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Player not found\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003edelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ectx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eNext, modify your \u003ccode\u003eConnect\u003c/code\u003e reducer and add a new \u003ccode\u003eDisconnect\u003c/code\u003e reducer below it:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ReducerKind.ClientConnected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Connect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.logged_out_player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx.Sender);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e!=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e null\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.player.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.Value);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.logged_out_player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.Value.identity);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    else\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.player.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Player\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            identity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Sender,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ReducerKind.ClientDisconnected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Disconnect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx.Sender) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003ePlayer not found\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.logged_out_player.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.identity);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eNow when a client connects, if the player corresponding to the client is in the \u003ccode\u003elogged_out_player\u003c/code\u003e table, we will move them into the \u003ccode\u003eplayer\u003c/code\u003e table, thus indicating that they are logged in and connected. For any new unrecognized client connects we will create a \u003ccode\u003ePlayer\u003c/code\u003e and insert it into the \u003ccode\u003eplayer\u003c/code\u003e table.\u003c/p\u003e\\n\u003cp\u003eWhen a player disconnects, we will transfer their player row from the \u003ccode\u003eplayer\u003c/code\u003e table to the \u003ccode\u003elogged_out_player\u003c/code\u003e table to indicate they\u0026#39;re offline.\u003c/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eNote that we could have added a \u003ccode\u003elogged_in\u003c/code\u003e boolean to the \u003ccode\u003ePlayer\u003c/code\u003e type to indicated whether the player is logged in. There\u0026#39;s nothing incorrect about that approach, however for several reasons we recommend this two table approach:\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eWe can iterate over all logged in players without any \u003ccode\u003eif\u003c/code\u003e statements or branching\u003c/li\u003e\\n\u003cli\u003eThe \u003ccode\u003ePlayer\u003c/code\u003e type now uses less program memory improving cache efficiency\u003c/li\u003e\\n\u003cli\u003eWe can easily check whether a player is logged in, based on whether their row exists in the \u003ccode\u003eplayer\u003c/code\u003e table\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThis approach is more generally referred to as \u003ca href=\\\"https://www.dataorienteddesign.com/dodmain/node4.html\\\"\u003eexistence based processing\u003c/a\u003e and it is a common technique in data-oriented design.\u003c/p\u003e\\n\u003c/blockquote\u003e\\n\u003ch4 id=\\\"spawning-player-circles\\\"\u003eSpawning Player Circles\u003ca href=\\\"#spawning-player-circles\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eNow that we\u0026#39;ve got our food spawning and our players set up, let\u0026#39;s create a match and spawn player circle entities into it. The first thing we should do before spawning a player into a match is give them a name. \u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eAdd the following to the bottom of your file.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e START_PLAYER_MASS\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 15\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e enter_game\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, name\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e String\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einfo!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Creating player with name {}\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, name);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e mut\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eok_or\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ename \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eupdate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e    spawn_player_initial_circle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx, player_id)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e spawn_player_initial_circle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, player_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e mut\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003erng\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eid\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eok_or\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Config not found\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eworld_size;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e mass_to_radius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003eSTART_PLAYER_MASS\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e x \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003egen_range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player_start_radius\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e..\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius));\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e y \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003egen_range\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player_start_radius\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e..\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e f32\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius));\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e    spawn_circle_at\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        player_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e        START_PLAYER_MASS\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e        DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e { x, y },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003etimestamp,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    )\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e spawn_circle_at\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    player_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    mass\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e u32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    position\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    timestamp\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Timestamp\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        entity_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        position,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        mass,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003etry_insert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        entity_id\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        player_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        direction\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e { x\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0.0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, y\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1.0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        speed\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0.0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        last_split_time\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e timestamp,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    })\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entity)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eenter_game\u003c/code\u003e reducer takes one argument, the player\u0026#39;s \u003ccode\u003ename\u003c/code\u003e. We can use this name to display as a label for the player in the match, by storing the name on the player\u0026#39;s row. We are also spawning some circles for the player to control now that they are entering the game. To do this, we choose a random position within the bounds of the arena and create a new entity and corresponding circle row.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eAdd the following to the end of the \u003ccode\u003eModule\u003c/code\u003e class.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003econst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e START_PLAYER_MASS \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 15\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e EnterGame\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e name\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    Log.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInfo\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e$\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eCreating player with name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx.Sender) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003ePlayer not found\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    player.name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eUpdate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e    SpawnPlayerInitialCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx, player.player_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Entity\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnPlayerInitialCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e player_id\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Rng;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (ctx.Db.config.id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eConfig not found\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)).world_size;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToRadius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(START_PLAYER_MASS);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e x \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRange\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player_start_radius, world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e y \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e rng.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRange\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player_start_radius, world_size \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_start_radius);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    return\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnCircleAt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        player_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        START_PLAYER_MASS,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(x, y),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Timestamp\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    );\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Entity\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnCircleAt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e player_id\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e mass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eDbVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e position\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTimestamp\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e timestamp\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.entity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Entity\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e position,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e mass,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.circle.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Circle\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        entity_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity.entity_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        player_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        direction \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        speed \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        last_split_time \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e timestamp,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eEnterGame\u003c/code\u003e reducer takes one argument, the player\u0026#39;s \u003ccode\u003ename\u003c/code\u003e. We can use this name to display as a label for the player in the match, by storing the name on the player\u0026#39;s row. We are also spawning some circles for the player to control now that they are entering the game. To do this, we choose a random position within the bounds of the arena and create a new entity and corresponding circle row.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eLet\u0026#39;s also modify our \u003ccode\u003edisconnect\u003c/code\u003e reducer to remove the circles from the arena when the player disconnects from the database server.\u003c/p\u003e\\n\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e#[spacetimedb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e::\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ereducer(client_disconnected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epub\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e fn\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e disconnect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Result\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;(), \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eString\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ectx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eok_or\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e\\\"Player not found\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player_id \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003elogged_out_player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003einsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eidentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003edelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ectx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003esender);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e    // Remove any circles from the arena\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    for\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e circle \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eplayer_id\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003efilter\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer_id) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eentity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eentity_id\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003edelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003edb\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eentity_id\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003edelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eentity_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e    Ok\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ReducerKind.ClientDisconnected)]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Disconnect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eReducerContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ctx.Sender) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003ePlayer not found\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e    // Remove any circles from the arena\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    foreach\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e circle \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.circle.player_id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFilter\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.player_id))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ctx.Db.entity.entity_id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle.entity_id) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e throw\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Exception\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eCould not find circle\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.entity.entity_id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entity.entity_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Db.circle.entity_id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entity.entity_id);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.logged_out_player.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    ctx.Db.player.identity.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.identity);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \u003cp\u003eFinally, publish the new module to SpacetimeDB with this command:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003espacetime\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e publish\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e --server\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e local\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e blackholio\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e --delete-data\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eDeleting the data is optional in this case, but in case you\u0026#39;ve been messing around with the module we can just start fresh.\u003c/p\u003e\\n\u003ch4 id=\\\"creating-the-arena\\\"\u003eCreating the Arena\u003ca href=\\\"#creating-the-arena\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eNow that we\u0026#39;ve set up our server logic to spawn food and players, let\u0026#39;s continue developing our Unity client to display what we have so far.\u003c/p\u003e\\n\u003cp\u003eStart by adding \u003ccode\u003eSetupArena\u003c/code\u003e and \u003ccode\u003eCreateBorderCube\u003c/code\u003e methods to your \u003ccode\u003eGameManager\u003c/code\u003e class: \u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SetupArena\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efloat\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e worldSize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, borderThickness)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//North\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eborderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, borderThickness)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//South\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(borderThickness, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//East\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eborderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(borderThickness, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//West\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e position\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e scale\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e cube \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameObject.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eCreatePrimitive\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(PrimitiveType.Cube);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        cube.name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e \\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eBorder\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        cube.transform.localScale \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(scale.x, scale.y, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        cube.transform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(position.x, position.y, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        cube.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eGetComponent\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eMeshRenderer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e().material \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderMaterial;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eIn your \u003ccode\u003eHandleSubscriptionApplied\u003c/code\u003e let\u0026#39;s now call \u003ccode\u003eSetupArena\u003c/code\u003e method. Modify your \u003ccode\u003eHandleSubscriptionApplied\u003c/code\u003e method as in the below.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e HandleSubscriptionApplied\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSubscriptionEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Debug.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLog\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eSubscription applied!\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        OnSubscriptionApplied\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInvoke\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Once we have the initial subscription sync'd to the client cache\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Get the world size from the config table and set up the arena\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Conn.Db.Config.Id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e).WorldSize;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        SetupArena\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eOnApplied\u003c/code\u003e callback will be called after the server synchronizes the initial state of your tables with your client. Once the sync has happened, we can look up the world size from the \u003ccode\u003econfig\u003c/code\u003e table and use it to set up our arena.\u003c/p\u003e\\n\u003cp\u003eIn the scene view, select the \u003ccode\u003eGameManager\u003c/code\u003e object. Click on the \u003ccode\u003eBorder Material\u003c/code\u003e property and choose \u003ccode\u003eSprites-Default\u003c/code\u003e.\u003c/p\u003e\\n\u003ch4 id=\\\"creating-gameobjects\\\"\u003eCreating GameObjects\u003ca href=\\\"#creating-gameobjects\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eNow that we have our arena all set up, we need to take the row data that SpacetimeDB syncs with our client and use it to create and draw \u003ccode\u003eGameObject\u003c/code\u003es on the screen.\u003c/p\u003e\\n\u003cp\u003eLet\u0026#39;s start by making some controller scripts for each of the game objects we\u0026#39;d like to have in our scene. In the project window, right-click and select \u003ccode\u003eCreate \u0026gt; C# Script\u003c/code\u003e. Name the new script \u003ccode\u003ePlayerController.cs\u003c/code\u003e. Repeat that process for \u003ccode\u003eCircleController.cs\u003c/code\u003e and \u003ccode\u003eFoodController.cs\u003c/code\u003e. We\u0026#39;ll modify the contents of these files later.\u003c/p\u003e\\n\u003cp\u003eNow let\u0026#39;s make some prefabs for our game objects. In the scene hierarchy window, create a new \u003ccode\u003eGameObject\u003c/code\u003e by right-clicking and selecting:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan\u003e2D Object \u003e Sprites \u003e Circle\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eRename the new game object in the scene to \u003ccode\u003eCirclePrefab\u003c/code\u003e. Next in the \u003ccode\u003eInspector\u003c/code\u003e window click the \u003ccode\u003eAdd Component\u003c/code\u003e button and add the \u003ccode\u003eCircle Controller\u003c/code\u003e script component that we just created. Finally drag the object into the \u003ccode\u003eProject\u003c/code\u003e folder. Once the prefab file is created, delete the \u003ccode\u003eCirclePrefab\u003c/code\u003e object from the scene. We\u0026#39;ll use this prefab to draw the circles that a player controls.\u003c/p\u003e\\n\u003cp\u003eNext repeat that same process for the \u003ccode\u003eFoodPrefab\u003c/code\u003e and \u003ccode\u003eFood Controller\u003c/code\u003e component. \u003c/p\u003e\\n\u003cp\u003eIn the \u003ccode\u003eProject\u003c/code\u003e view, double click the \u003ccode\u003eCirclePrefab\u003c/code\u003e to bring it up in the scene view. Right-click anywhere in the hierarchy and navigate to:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan\u003eUI \u003e Text - Text Mesh Pro\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThis will add a label to the circle prefab. You may need to import \u0026quot;TextMeshPro Essential Resources\u0026quot; into Unity in order to add the TextMeshPro element. Your logs will say \u0026quot;[TMP Essential Resources] have been imported.\u0026quot; if it has worked correctly. Don\u0026#39;t forget to set the transform position of the label to \u003ccode\u003ePos X: 0, Pos Y: 0, Pos Z: 0\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eFinally we need to make the \u003ccode\u003ePlayerPrefab\u003c/code\u003e. In the hierarchy window, create a new \u003ccode\u003eGameObject\u003c/code\u003e by right-clicking and selecting:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan\u003eCreate Empty\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eRename the game object to \u003ccode\u003ePlayerPrefab\u003c/code\u003e. Next in the \u003ccode\u003eInspector\u003c/code\u003e window click the \u003ccode\u003eAdd Component\u003c/code\u003e button and add the \u003ccode\u003ePlayer Controller\u003c/code\u003e script component that we just created. Next drag the object into the \u003ccode\u003eProject\u003c/code\u003e folder. Once the prefab file is created, delete the \u003ccode\u003ePlayerPrefab\u003c/code\u003e object from the scene.\u003c/p\u003e\\n\u003ch5 id=\\\"entitycontroller\\\"\u003eEntityController\u003ca href=\\\"#entitycontroller\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h5\u003e\u003cp\u003eLet\u0026#39;s also create an \u003ccode\u003eEntityController\u003c/code\u003e script which will serve as a base class for both our \u003ccode\u003eCircleController\u003c/code\u003e and \u003ccode\u003eFoodController\u003c/code\u003e classes since both \u003ccode\u003eCircle\u003c/code\u003es and \u003ccode\u003eFood\u003c/code\u003e are entities.\u003c/p\u003e\\n\u003cp\u003eCreate a new file called \u003ccode\u003eEntityController.cs\u003c/code\u003e and replace its contents with:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eGeneric\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eLinq\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Unity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVisualScripting\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e abstract\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e EntityController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eMonoBehaviour\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tconst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LERP_DURATION_SEC \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0.1f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e readonly\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e int\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ShaderColorProperty \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Shader.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003ePropertyToID\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e_Color\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t[\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eDoNotSerialize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e] \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e EntityId;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprotected\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LerpTime;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprotected\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LerpStartPosition;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprotected\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LerpTargetPosition;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprotected\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e TargetScale;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprotected\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e virtual\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Spawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e entityId\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tEntityId \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityId;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tvar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameManager.Conn.Db.Entity.EntityId.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entityId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tLerpStartPosition \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LerpTargetPosition \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e transform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)entity.Position;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\ttransform.localScale \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Vector3.one;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tTargetScale \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToScale\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entity.Mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SetColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e color\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e\\t\\tGetComponent\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSpriteRenderer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e().material.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSetColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ShaderColorProperty, color);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e virtual\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnEntityUpdated\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e newVal\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tLerpTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tLerpStartPosition \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e transform.position;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tLerpTargetPosition \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)newVal.Position;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tTargetScale \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToScale\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(newVal.Mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e virtual\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e\\t\\tDestroy\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(gameObject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e virtual\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Update\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e\\t\\t// Interpolate position and scale\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tLerpTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Mathf.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eMin\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(LerpTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Time.deltaTime, LERP_DURATION_SEC);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\ttransform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Vector3.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLerp\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(LerpStartPosition, LerpTargetPosition, LerpTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LERP_DURATION_SEC);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\ttransform.localScale \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Vector3.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLerp\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(transform.localScale, TargetScale, Time.deltaTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 8\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToScale\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e mass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tvar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e diameter \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToDiameter\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(diameter, diameter, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToRadius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e mass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Mathf.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSqrt\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(mass);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToDiameter\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e mass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e MassToRadius\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(mass) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eEntityController\u003c/code\u003e script just provides some helper functions and basic functionality to manage our game objects based on entity updates.\u003c/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eOne notable feature is that we linearly interpolate (lerp) between the position where the server says the entity is, and where we actually draw it. This is a common technique which provides for smoother movement.\u003c/p\u003e\\n\u003cp\u003eIf you\u0026#39;re interested in learning more checkout \u003ca href=\\\"https://gabrielgambetta.com/client-side-prediction-live-demo.html\\\"\u003ethis demo\u003c/a\u003e from Gabriel Gambetta.\u003c/p\u003e\\n\u003c/blockquote\u003e\\n\u003cp\u003eAt this point you\u0026#39;ll have a compilation error because we can\u0026#39;t yet convert from \u003ccode\u003eSpacetimeDB.Types.DbVector2\u003c/code\u003e to \u003ccode\u003eUnityEngine.Vector2\u003c/code\u003e. To fix this, let\u0026#39;s also create a new \u003ccode\u003eExtensions.cs\u003c/code\u003e script and replace the contents with:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enamespace\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e partial\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e DbVector2\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e implicit\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e operator\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eDbVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e vec\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(vec.X, vec.Y);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e implicit\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e operator\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e vec\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e DbVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(vec.x, vec.y);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThis just allows us to implicitly convert between our \u003ccode\u003eDbVector2\u003c/code\u003e type and the Unity \u003ccode\u003eVector2\u003c/code\u003e type.\u003c/p\u003e\\n\u003ch5 id=\\\"circlecontroller\\\"\u003eCircleController\u003ca href=\\\"#circlecontroller\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h5\u003e\u003cp\u003eNow open the \u003ccode\u003eCircleController\u003c/code\u003e script and modify the contents of the \u003ccode\u003eCircleController\u003c/code\u003e script to be:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eGeneric\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e CircleController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntityController\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[] ColorPalette \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        //Yellow\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e175\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e159\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e49\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e175\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e116\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e49\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        //Purple\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e112\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e47\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e252\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e51\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e91\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e252\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        //Red\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e176\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e54\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e54\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e176\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e109\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e54\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e141\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e43\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e99\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        //Blue\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e188\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e250\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e7\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e50\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e251\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e28\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e146\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Owner;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Spawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircle\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e circle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayerController\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e owner\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e        base\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle.EntityId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e\\t\\tSetColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ColorPalette[circle.PlayerId \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e%\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ColorPalette.Length]);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e        this\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.Owner \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e owner;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        GetComponentInChildren\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTMPro\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTextMeshProUGUI\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e().text \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e owner.Username;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e override\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e\\t\\tbase\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(context);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Owner.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnCircleDeleted\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003ethis\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eAt the top, we\u0026#39;re just defining some possible colors for our circle. We\u0026#39;ve also created a spawn function which takes a \u003ccode\u003eCircle\u003c/code\u003e (same type that\u0026#39;s in our \u003ccode\u003ecircle\u003c/code\u003e table) and a \u003ccode\u003ePlayerController\u003c/code\u003e which sets the color based on the circle\u0026#39;s player ID, as well as setting the text of the Cricle to be the player\u0026#39;s username.\u003c/p\u003e\\n\u003cp\u003eNote that the \u003ccode\u003eCircleController\u003c/code\u003e inherits from the \u003ccode\u003eEntityController\u003c/code\u003e, not \u003ccode\u003eMonoBehavior\u003c/code\u003e.\u003c/p\u003e\\n\u003ch5 id=\\\"foodcontroller\\\"\u003eFoodController\u003ca href=\\\"#foodcontroller\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h5\u003e\u003cp\u003eNext open the \u003ccode\u003eFoodController.cs\u003c/code\u003e file and replace the contents with:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Unity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVisualScripting\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e FoodController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntityController\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[] ColorPalette \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e[]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e119\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e252\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e173\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e76\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e250\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e146\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e35\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e246\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e120\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e119\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e251\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e201\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e76\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e249\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e184\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Color32\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e35\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e245\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e165\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e255\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Spawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eFood\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e food\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e        base\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food.EntityId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e\\t\\tSetColor\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(ColorPalette[EntityId \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e%\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e ColorPalette.Length]);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003ch5 id=\\\"playercontroller\\\"\u003ePlayerController\u003ca href=\\\"#playercontroller\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h5\u003e\u003cp\u003eOpen the \u003ccode\u003ePlayerController\u003c/code\u003e script and modify the contents of the \u003ccode\u003ePlayerController\u003c/code\u003e script to be:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eGeneric\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eLinq\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eMonoBehaviour\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tconst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e int\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e SEND_UPDATES_PER_SEC \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 20\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tconst\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e SEND_UPDATES_FREQUENCY \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1f\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e /\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e SEND_UPDATES_PER_SEC;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Local { \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e; \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e set\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e; }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PlayerId;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e LastMovementSendTimestamp;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e? LockInputPosition;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e List\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircleController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e OwnedCircles \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e List\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircleController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Username \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameManager.Conn.Db.Player.PlayerId.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(PlayerId).Name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e int\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e NumberOfOwnedCircles \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e OwnedCircles.Count;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e bool\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e IsLocalPlayer \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e this\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e ==\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Local;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Initialize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayer\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        PlayerId \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player.PlayerId;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (player.Identity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameManager.LocalIdentity)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            Local \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e this\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnDestroy\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // If we have any circles, destroy them\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        foreach\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e circle \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e OwnedCircles)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (circle \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e!=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e null\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e                Destroy\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle.gameObject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        OwnedCircles.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eClear\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnCircleSpawned\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircleController\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e circle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        OwnedCircles.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eAdd\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnCircleDeleted\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircleController\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e deletedCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e\\t\\t// This means we got eaten\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tif\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (OwnedCircles.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRemove\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(deletedCircle) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e IsLocalPlayer \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e OwnedCircles.Count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e\\t\\t\\t// DeathScreen.Instance.SetVisible(true);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e uint\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e TotalMass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)OwnedCircles\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSelect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameManager.Conn.Db.Entity.EntityId.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle.EntityId))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t\\t.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSum\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003ee\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e e\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.Mass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e??\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//If this entity is being deleted on the same frame that we're moving, we can have a null entity here.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e? \u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eCenterOfMass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (OwnedCircles.Count \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e null\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e        Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e totalPos \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Vector2.zero;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e totalMass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        foreach\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e circle \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e OwnedCircles)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e GameManager.Conn.Db.Entity.EntityId.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle.EntityId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e circle.transform.position;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            totalPos \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity.Mass;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            totalMass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entity.Mass;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e totalPos \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e totalMass;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e OnGUI\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tif\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eIsLocalPlayer \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e||\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e !\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eGameManager.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eIsConnected\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tGUI.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLabel\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Rect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e100\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e50\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e), \u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e$\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eTotal Mass: \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eTotalMass\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e\\t//Automated testing members\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e bool\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e testInputEnabled;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e testInput;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SetTestInput\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eVector2\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e input\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e testInput \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e input;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e EnableTestInput\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e testInputEnabled \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#39;s also add a new \u003ccode\u003ePrefabManager.cs\u003c/code\u003e script which we can use as a factory for creating prefabs. Replace the contents of the file with:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e SpacetimeDB\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eTypes\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eGeneric\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e PrefabManager\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eMonoBehaviour\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PrefabManager\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Instance;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e CircleController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e CirclePrefab;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e FoodController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e FoodPrefab;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PlayerPrefab;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Awake\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tInstance \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9;font-style:italic\\\"\u003e this\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e CircleController\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircle\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e circle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayerController\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e owner\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tvar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Instantiate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Instance.CirclePrefab);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tentityController.name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e $\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eCircle - \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ecircle\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eEntityId\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tentityController.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(circle, owner);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\towner.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnCircleSpawned\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(entityController);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e FoodController\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnFood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eFood\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e food\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tvar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Instantiate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Instance.FoodPrefab);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tentityController.name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e $\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eFood - \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003efood\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eEntityId\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tentityController.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(food);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SpawnPlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayer\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tvar\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e playerController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e Instantiate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Instance.PlayerPrefab);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tplayerController.name \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e $\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003ePlayerController - \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e{\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eplayer\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eName\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e}\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tplayerController.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInitialize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e playerController;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eIn the scene hierarchy, select the \u003ccode\u003eGameManager\u003c/code\u003e object and add the \u003ccode\u003ePrefab Manager\u003c/code\u003e script as a component to the \u003ccode\u003eGameManager\u003c/code\u003e object. Drag the corresponding \u003ccode\u003eCirclePrefab\u003c/code\u003e, \u003ccode\u003eFoodPrefab\u003c/code\u003e, and \u003ccode\u003ePlayerPrefab\u003c/code\u003e prefabs we created earlier from the project view into their respective slots in the \u003ccode\u003ePrefab Manager\u003c/code\u003e. Save the scene.\u003c/p\u003e\\n\u003ch4 id=\\\"hooking-up-the-data\\\"\u003eHooking up the Data\u003ca href=\\\"#hooking-up-the-data\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eWe\u0026#39;ve now prepared our Unity project so that we can hook up the data from our tables to the Unity game objects and have them drawn on the screen.\u003c/p\u003e\\n\u003cp\u003eAdd a couple dictionaries at the top of your \u003ccode\u003eGameManager\u003c/code\u003e class which we\u0026#39;ll use to hold onto the game objects we create for our scene. Add these two lines just below your \u003ccode\u003eDbConnection\u003c/code\u003e like so:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e DbConnection Conn { get; \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eprivate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e set; }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Dictionary\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntityController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e Entities \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Dictionary\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntityController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tpublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Dictionary\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e Players \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Dictionary\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayerController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eNext lets add some callbacks when rows change in the database. Modify the \u003ccode\u003eHandleConnect\u003c/code\u003e method as below.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e    // Called when we connect to SpacetimeDB and receive our client identity\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e HandleConnect\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eDbConnection\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e conn\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eIdentity\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e identity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e token\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Debug.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLog\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eConnected.\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        AuthToken.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSaveToken\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(token);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        LocalIdentity \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e identity;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Circle.OnInsert \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e CircleOnInsert;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Entity.OnUpdate \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e EntityOnUpdate;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Entity.OnDelete \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e EntityOnDelete;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Food.OnInsert \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e FoodOnInsert;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Player.OnInsert \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PlayerOnInsert;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        conn.Db.Player.OnDelete \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PlayerOnDelete;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        OnConnected\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInvoke\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Request all tables\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Conn.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSubscriptionBuilder\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnApplied\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(HandleSubscriptionApplied)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            .\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSubscribeToAllTables\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eNext add the following implementations for those callbacks to the \u003ccode\u003eGameManager\u003c/code\u003e class.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e CircleOnInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCircle\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e insertedValue\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e GetOrCreatePlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedValue.PlayerId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PrefabManager.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawnCircle\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedValue, player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Entities.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eAdd\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedValue.EntityId, entityController);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e EntityOnUpdate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e oldEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e newEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eEntities.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eTryGetValue\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(newEntity.EntityId, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eout\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        entityController.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnEntityUpdated\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(newEntity);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e EntityOnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEntity\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e oldEntity\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (Entities.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRemove\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(oldEntity.EntityId, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eout\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            entityController.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eOnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(context);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e FoodOnInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eFood\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e insertedValue\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e entityController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PrefabManager.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawnFood\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedValue);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Entities.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eAdd\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedValue.EntityId, entityController);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e PlayerOnInsert\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayer\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e insertedPlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        GetOrCreatePlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(insertedPlayer.PlayerId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e PlayerOnDelete\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e context\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayer\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e deletedvalue\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (Players.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eRemove\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(deletedvalue.PlayerId, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eout\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e playerController))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            GameObject.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eDestroy\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(playerController.gameObject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e PlayerController\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e GetOrCreatePlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003euint\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e playerId\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e!\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003ePlayers.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eTryGetValue\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(playerId, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eout\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e playerController))\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e player \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Conn.Db.Player.PlayerId.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(playerId);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            playerController \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PrefabManager.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eSpawnPlayer\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            Players.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eAdd\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(playerId, playerController);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e playerController;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003ch4 id=\\\"camera-controller\\\"\u003eCamera Controller\u003ca href=\\\"#camera-controller\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eOne of the last steps is to create a camera controller to make sure the camera moves around with the player. Create a script called \u003ccode\u003eCameraController.cs\u003c/code\u003e and add it to your project. Replace the contents of the file with this:\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e System\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eCollections\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eGeneric\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eusing\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e UnityEngine\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e class\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD\\\"\u003e CameraController\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e : \u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eMonoBehaviour\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    public\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e static\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e WorldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 0.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e LateUpdate\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e()\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e arenaCenterTransform \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(WorldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, WorldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e10.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (PlayerController.Local \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e null\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e ||\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e !\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eGameManager.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eIsConnected\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e())\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e            // Set the camera to be in middle of the arena if we are not connected or \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e            // there is no local player\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            transform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e arenaCenterTransform;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e centerOfMass \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e PlayerController.Local.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eCenterOfMass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e (centerOfMass.HasValue)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e            // Set the camera to be the center of mass of the local player\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e            // if the local player has one\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            transform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector3\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e                x \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e centerOfMass.Value.x,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e                y \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e centerOfMass.Value.y,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e                z \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e transform.position.z\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            };\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        } \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003eelse\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            transform.position \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e arenaCenterTransform;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\tfloat\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e targetCameraSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e CalculateCameraSize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(PlayerController.Local);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t\\tCamera.main.orthographicSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Mathf.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLerp\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(Camera.main.orthographicSize, targetCameraSize, Time.deltaTime \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\tprivate\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e float\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e CalculateCameraSize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003ePlayerController\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e player\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e\\t\\treturn\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 50f\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e +\u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e //Base size\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            Mathf.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eMin\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e50\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, player.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eTotalMass\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 5\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e //Increase camera size with mass\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e            Mathf.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eMin\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(player.NumberOfOwnedCircles \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 30\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e; \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//Zoom out when player splits\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e\\t}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eAdd the \u003ccode\u003eCameraController\u003c/code\u003e as a component to the \u003ccode\u003eMain Camera\u003c/code\u003e object in the scene.\u003c/p\u003e\\n\u003cp\u003eLastly modify the \u003ccode\u003eGameManager.SetupArena\u003c/code\u003e method to set the \u003ccode\u003eWorldSize\u003c/code\u003e on the \u003ccode\u003eCameraController\u003c/code\u003e.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e SetupArena\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003efloat\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e worldSize\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, borderThickness)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//North\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eborderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, borderThickness)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//South\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(borderThickness, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//East\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        CreateBorderCube\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003eborderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e),\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e            new\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003e Vector2\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(borderThickness, worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e+\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e borderThickness \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e 2.0f\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)); \u003c/span\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e//West\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Set the world size for the camera controller\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        CameraController.WorldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e worldSize;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003ch4 id=\\\"entering-the-game\\\"\u003eEntering the Game\u003ca href=\\\"#entering-the-game\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\\n        \u003cdiv class=\\\"lang-group\\\"\u003e\\n            \u003cdiv class=\\\"lang-tabs\\\"\u003e\\n                \u003cspan class=\\\"lang-tabs-title\\\"\u003e\u003c/span\u003e\\n                \u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"Rust\\\"\u003eRust\u003c/button\u003e\u003cbutton class=\\\"tab-btn\\\" data-lang=\\\"C#\\\"\u003eC#\u003c/button\u003e\\n            \u003c/div\u003e\\n            \\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"Rust\\\"\u003e\\n                \u003cp\u003eAt this point, you may need to regenerate your bindings the following command from the \u003ccode\u003eserver-rust\u003c/code\u003e directory.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n            \u003cdiv class=\\\"lang-block\\\" data-lang=\\\"C#\\\"\u003e\\n                \u003cp\u003eAt this point, you may need to regenerate your bindings the following command from the \u003ccode\u003eserver-csharp\u003c/code\u003e directory.\u003c/p\u003e\\n\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n        \\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003espacetime\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e generate\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e --lang\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e csharp\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e --out-dir\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e ../client-unity/Assets/autogen\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003cp\u003eThe last step is to call the \u003ccode\u003eenter_game\u003c/code\u003e reducer on the server, passing in a username for our player, which will spawn a circle for our player. For the sake of simplicity, let\u0026#39;s call the \u003ccode\u003eenter_game\u003c/code\u003e reducer from the \u003ccode\u003eHandleSubscriptionApplied\u003c/code\u003e callback with the name \u0026quot;3Blave\u0026quot;.\u003c/p\u003e\\n\\n\u003cpre class=\\\"shiki spacetime-dark\\\" style=\\\"background-color:var(--color-bg);color:#F8F8F2\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e    private\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e void\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e HandleSubscriptionApplied\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#8BE9FD;font-style:italic\\\"\u003eSubscriptionEventContext\u003c/span\u003e\u003cspan style=\\\"color:#FFB86C;font-style:italic\\\"\u003e ctx\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        Debug.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eLog\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003eSubscription applied!\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        OnSubscriptionApplied\u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eInvoke\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Once we have the initial subscription sync'd to the client cache\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Get the world size from the config table and set up the arena\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e        var\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e worldSize \u003c/span\u003e\u003cspan style=\\\"color:#FF79C6\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e Conn.Db.Config.Id.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eFind\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#BD93F9\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e).WorldSize;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003e        SetupArena\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(worldSize);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6272A4\\\"\u003e        // Call enter game with the player name 3Blave\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e        ctx.Reducers.\u003c/span\u003e\u003cspan style=\\\"color:#50FA7B\\\"\u003eEnterGame\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F1FA8C\\\"\u003e3Blave\u003c/span\u003e\u003cspan style=\\\"color:#E9F284\\\"\u003e\\\"\u003c/span\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#F8F8F2\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e \u003cbutton data-copy-code\u003e\\n    \u003csvg\\n        class=\\\"md-copy-icon\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"24\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 24 24\\\"\\n    \u003e\\n        \u003cg fill=\\\"white\\\"\u003e\\n            \u003cpath d=\\\"M15.24 2h-3.894c-1.764 0-3.162 0-4.255.148c-1.126.152-2.037.472-2.755 1.193c-.719.721-1.038 1.636-1.189 2.766C3 7.205 3 8.608 3 10.379v5.838c0 1.508.92 2.8 2.227 3.342c-.067-.91-.067-2.185-.067-3.247v-5.01c0-1.281 0-2.386.118-3.27c.127-.948.413-1.856 1.147-2.593c.734-.737 1.639-1.024 2.583-1.152c.88-.118 1.98-.118 3.257-.118h3.07c1.276 0 2.374 0 3.255.118A3.601 3.601 0 0 0 15.24 2Z\\\" /\u003e\\n            \u003cpath d=\\\"M6.6 11.397c0-2.726 0-4.089.844-4.936c.843-.847 2.2-.847 4.916-.847h2.88c2.715 0 4.073 0 4.917.847c.843.847.843 2.21.843 4.936v4.82c0 2.726 0 4.089-.843 4.936c-.844.847-2.202.847-4.917.847h-2.88c-2.715 0-4.073 0-4.916-.847c-.844-.847-.844-2.21-.844-4.936v-4.82Z\\\" /\u003e\\n        \u003c/g\u003e\\n    \u003c/svg\u003e\\n\u003c/button\u003e\u003c/pre\u003e\u003ch4 id=\\\"trying-it-out\\\"\u003eTrying it out\u003ca href=\\\"#trying-it-out\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eAt this point, after publishing our module we can press the play button to see the fruits of our labor! You should be able to see your player\u0026#39;s circle, with its username label, surrounded by food.\u003c/p\u003e\\n\u003c!-- ![Player on screen](part-3-player-on-screen.png) --\u003e\\n\\n\u003cblockquote class=\\\"blockquote-md\\\"\u003e\\n    \u003cdiv class=\\\"top\\\"\u003e\\n        \u003csvg\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n            width=\\\"256\\\"\\n            height=\\\"256\\\"\\n            viewBox=\\\"0 0 256 256\\\"\\n        \u003e\\n            \u003cpath\\n                fill=\\\"white\\\"\\n                d=\\\"M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h108.69a15.92 15.92 0 0 0 11.31-4.69L219.31 168a15.92 15.92 0 0 0 4.69-11.31V48a16 16 0 0 0-16-16ZM96 88h64a8 8 0 0 1 0 16H96a8 8 0 0 1 0-16Zm32 80H96a8 8 0 0 1 0-16h32a8 8 0 0 1 0 16Zm-32-32a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16Zm64 68.69V160h44.7Z\\\"\\n            /\u003e\\n        \u003c/svg\u003e\\n        \u003cp class=\\\"blockquote-p\\\"\u003eNote\u003c/p\u003e\\n    \u003c/div\u003e\\n    \u003cdiv\u003e\u003cp\u003eThe label won\u0026#39;t be centered at this point. Feel free to adjust it if you like. We just didn\u0026#39;t want to complicate the tutorial.\u003c/p\u003e\u003c/div\u003e\\n\u003c/blockquote\u003e\\n\u003ch4 id=\\\"troubleshooting\\\"\u003eTroubleshooting\u003ca href=\\\"#troubleshooting\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cul\u003e\\n\u003cli\u003e\u003cp\u003eIf you get an error when running the generate command, make sure you have an empty subfolder in your Unity project Assets folder called \u003ccode\u003eautogen\u003c/code\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eIf you get an error in your Unity console when starting the game, double check that you have published your module and you have the correct module name specified in your \u003ccode\u003eGameManager\u003c/code\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003ch4 id=\\\"next-steps\\\"\u003eNext Steps\u003ca href=\\\"#next-steps\\\" class=\\\"permalink\\\"\u003e\u003cspan class=\\\"visually-hidden\\\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/h4\u003e\u003cp\u003eIt\u0026#39;s pretty cool to see our player in game surrounded by food, but there\u0026#39;s a problem! We can\u0026#39;t move yet. In the next part, we\u0026#39;ll explore how to get your player moving and interacting with food and other objects.\u003c/p\u003e\\n\",\"next\",{\"_17\":22,\"_23\":60,\"_25\":61,\"_19\":62},\"prev\",{\"_17\":22,\"_23\":52,\"_25\":53,\"_19\":54},\"editURL\",\"https://github.com/clockworklabs/spacetime-docs/edit/master/docs/unity/part-3.md\",\"routes/_marketing\",\"actionData\",\"errors\"]\n");</script><!--$--><script>window.__remixContext.streamController.close();</script><!--/$--><!--/$-->